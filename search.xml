<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>blockchain</title>
      <link href="/2024/06/26/blockchain/"/>
      <url>/2024/06/26/blockchain/</url>
      
        <content type="html"><![CDATA[<h2 id="基于堆栈的语言，比如forth："><a href="#基于堆栈的语言，比如forth：" class="headerlink" title="基于堆栈的语言，比如forth："></a>基于堆栈的语言，比如forth：</h2><p>示例代码</p><p>以Forth为例，展示一个简单的加法操作：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3 4 + .</span><br></pre></td></tr></table></figure><p>上述代码的解释是：</p><ol><li>将数字3推入堆栈。</li><li>将数字4推入堆栈。</li><li>执行加法操作，将堆栈顶部的两个数字相加，并将结果（7）推回堆栈。</li><li><code>.</code> 操作符从堆栈中取出并打印结果。</li></ol><h2 id="图灵不完备"><a href="#图灵不完备" class="headerlink" title="图灵不完备"></a>图灵不完备</h2><p>  比特币交易脚本语言包含许多运算符，但在一个重要方面有意限制——它没有循环或复杂的流程控制能力，除了条件流程控制。这确保了该语言不是图灵完备的，也就是说，脚本具有有限的复杂性和可预测的执行时间。</p><h2 id="图灵完备"><a href="#图灵完备" class="headerlink" title="图灵完备"></a>图灵完备</h2><p>  图灵完备是指在可计算性理论里，如果一系列操作数据的规则（如指令集、编程语言、细胞自动机）按照一定的顺序，可以计算出结果<br>  在给定无限内存的情况下，以太坊可以计算任何图灵机可以计算的算法。”<br>  图灵完备带来运算方便性的同时，也带来安全和资源管理问题。“陷入死循环的打印机可以关闭并再次打开，但是这对于公共区块链却是不可能的”。ETH通过gas机制在保证图灵完备的的同时，限制了程序可以使用的资源量。</p><h2 id="比特币中输入和输出的理解"><a href="#比特币中输入和输出的理解" class="headerlink" title="比特币中输入和输出的理解"></a>比特币中输入和输出的理解</h2><p>  比特币中输入和输出，其主语（对象）是一个交易（TX）</p><p><img src="/img/20190905104834923.jpeg" alt="20190905104834923"></p><h2 id="UTXO（Unspent-Transaction-Output，未花费交易输出）"><a href="#UTXO（Unspent-Transaction-Output，未花费交易输出）" class="headerlink" title="UTXO（Unspent Transaction Output，未花费交易输出）"></a>UTXO（Unspent Transaction Output，未花费交易输出）</h2><p>  每一笔TX都会消耗一个或多个UTXO，生成一个或多个UTXO<br>  交易输入（input）引用之前交易的UTXO<br>  交易输出（output）生成新的UTXO<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">以下展示TX示例 </span><br><span class="line">（1）A与B交易（忽略手续费）</span><br><span class="line">输入：</span><br><span class="line">    引用了A持有的含有5个BTC的UTXO</span><br><span class="line">输出：</span><br><span class="line">    2个BTC发给B（新UTXO，归B持有）</span><br><span class="line">    找零3个BTC（新UTXO，仍归A持有）</span><br><span class="line">    </span><br><span class="line">（2）合并UTXO操作（忽略手续费）</span><br><span class="line">输入：</span><br><span class="line">    A的3个UTXO，分别含有0.5，1.5，3个BTC</span><br><span class="line">输出：</span><br><span class="line">    一个含5个BTC的UTXO（归A持有）</span><br></pre></td></tr></table></figure></p><p>《精通比特币 第三版》原文：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">使用比特币的区块链存储与比特币支付无关的数据是一个颇具争议的议题。许多人认为这种使用是滥用的，希望予以遏制。而另一些人则将其视为区块链技术强大功能的展示，并希望鼓励这种实验。反对包含非支付数据的人士认为，这给运行完整比特币节点的人带来了负担，因为他们需要承担为区块链不打算承载的数据而进行的磁盘存储成本。此外，这样的交易可能会创建无法被花费的UTXO，使用传统比特币地址作为自由格式的20字节字段。由于该地址用于存储数据，它不对应于私钥，因此生成的UTXO永远无法被花费；这是一个虚假的支付。因此，永远无法被花费的这些交易从未从UTXO集中移除，并导致UTXO数据库的大小永远增加，或者说“膨胀”。</span><br></pre></td></tr></table></figure><p>  我的理解是，UTXO被花费并不能缓解数据膨胀，因为根据UTXO的特点，UTXO被花费后会生成一个或多个UTXO，UTXO数据库仍然是膨胀的。与原文想法相同的是，无法花费的“虚假”UTXO应被存储在区块链中而不是UTXO数据库中。<br>  解决方式是引入OP_RETURN，OP_RETURN脚本没有对应的输入，因此无法用于花费</p><h2 id="有效区块的特征"><a href="#有效区块的特征" class="headerlink" title="有效区块的特征"></a>有效区块的特征</h2><p>• 区块数据结构在语法上是有效的。 </p><p>• 区块头哈希小于目标值（实施工作证明）。</p><p>• 区块时间戳位于 MTP 和未来两小时之间（允许时间误差）。</p><p>• 区块权重在可接受范围内。 </p><p>• 第一个交易（仅第一个）是 coinbase 交易。 </p><p>• 区块中的所有交易都使用“交易独立验证”部分讨论的交易清单进行验证。</p><h2 id="区块确认时间为何是10分钟"><a href="#区块确认时间为何是10分钟" class="headerlink" title="区块确认时间为何是10分钟"></a>区块确认时间为何是10分钟</h2><ol><li>若每个区块确认时间过短，会导致安全性降低：当区块生成时间缩短时，网络节点之间同步区块的时间变少，导致多个矿工可能同时挖出有效区块。这样会增加意外分叉的发生率，导致一些矿工的工作被浪费。</li><li>若每个区块确认时间过长：诚然，安全性会变高；但是会导致交易确认延迟，区块吞吐量下降等问题</li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>深度学习预测前置知识</title>
      <link href="/2024/05/28/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E9%A2%84%E6%B5%8B%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86/"/>
      <url>/2024/05/28/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E9%A2%84%E6%B5%8B%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<p><strong>解析解:</strong></p><p>​    解可以用一个公式简单地表达出来， 这类解叫作解析解（analytical solution）</p><p><strong><em>梯度下降</em>:</strong></p><p>​     它通过不断地在损失函数递减的方向上更新参数来降低误差。</p><p>​      梯度下降最简单的用法是计算损失函数（数据集中所有样本的损失均值） 关于模型参数的导数（在这里也可以称为梯度）</p><p><strong><em>泛化</em>（generalization）:</strong></p><p>​    找到一组参数，这组参数能够在我们从未见过的数据上实现较低的损失</p><p><strong>超参数:</strong></p><p>​    这些可以调整但不在训练过程中更新的参数称为<em>超参数</em>（hyperparameter）</p><p>​    <em>调参</em>（hyperparameter tuning）是选择超参数的过程</p><p><strong>random.shuffle():</strong></p><p>​    在训练机器学习模型时，经常会对数据进行随机打乱的操作。这有助于模型学习更好地泛化，因为模型不会过于依赖于特定的样本顺序。通过随机打乱数据，模型在每个批次中都能够看到不同的样本，从而更好地学习数据的分布和模式。</p><p><strong>归一化，标准化：</strong></p><p><strong>sigmoid函数：</strong></p><p>f(x) = 1/(1+e^-x)</p><h2 id="现阶段主流的股价预测模型"><a href="#现阶段主流的股价预测模型" class="headerlink" title="现阶段主流的股价预测模型"></a>现阶段主流的股价预测模型</h2><h3 id="1-ARIMA模型"><a href="#1-ARIMA模型" class="headerlink" title="1.ARIMA模型"></a>1.ARIMA模型</h3><p>ARIMA模型（英语：AutoregressiveIntegratedMovingAverage model），差分整合移动平均自回归模型，又称整合移动平均自回归模型（移动也可称作滑动），时间序列预测分析方法之一。ARIMA（p，d，q）中，AR是”自回归”，p为自回归项数；MA为”滑动平均”，q为滑动平均项数，d为使之成为平稳序列所做的差分次数（阶数）。“差分”一词虽未出现在ARIMA的英文名称中，却是关键步骤。ARIMA 模型是在平稳的时间序列基础上建立起来的，因此时间序列的平稳性是建模的重要前提。检验时间序列模型平稳的方法一般采用 ADF 单位根检验模型去检验。当然如果时间序列不稳定，也可以通过一些操作去使得时间序列稳定（比如取对数，差分），然后进行 ARIMA 模型预测，得到稳定的时间序列的预测结果，然后对预测结果进行之前使序列稳定的操作的逆操作（取指数，差分的逆操作），就可以得到原始数据的预测结果。</p><h3 id="2-基于随机过程的马尔科夫链模型"><a href="#2-基于随机过程的马尔科夫链模型" class="headerlink" title="2.基于随机过程的马尔科夫链模型"></a>2.基于随机过程的马尔科夫链模型</h3><p>马尔科夫过程是研究事物状态以及其状态转移规律的理论，适合于时间序列以及空间序列，一个时间与状态都是离散的马尔科夫过程叫做马尔科夫链，也叫马氏链（Markov Chain），马氏链模型是一类描述随机动态系统的模型，其特点是①系统每个时刻所处的状态都是随机的，②从一个时刻到下一个时刻的状态按照一定的概率转移，③下一个时刻的状态只取决于当前时刻的状态和转移概率，与其他时刻状态无关。</p><h3 id="3-基于SVM的模型"><a href="#3-基于SVM的模型" class="headerlink" title="3.基于SVM的模型"></a>3.基于SVM的模型</h3><p>支持向量机（SVM）是Vapnik和Cortes于1995年首先提出的，建立在统计学习理论的VC维理论和结构风险最小原理基础上的，它在解决小样本、非线性及高维模式识别中表现出许多特有的优势。支持向量机将非线性问题映射到高维空间，引入核函数，解决了非线性分类问题。支持向量回归（SVR）是支持向量机的推广，通过引入ε不敏感损失函数，将问题转化为通过对已知的样本数据学习找到一个拟合函数，对未知的数据进行预测，这个函数f(x)对实际的 值最大偏差为ε，从而构建回归模型。在金融领域的应用中，Trafalis和Ince研究发现SVR的预测精度远高于MLP（多层感知机）和ARIMA（差分滑动平均自回归模型），并且与神经网络相比有更加出色的性能。</p><h3 id="4-基于XGBoost集成树模型"><a href="#4-基于XGBoost集成树模型" class="headerlink" title="4.基于XGBoost集成树模型"></a>4.基于XGBoost集成树模型</h3><p>XGBoost算法是陈天奇博士于2016年提出的基于回归树的提升算法，在市场价格估计、高能物理事件分类、网络文本分类、客户行为分析等诸多机器学习任务中均表现了出色的性能，并且算法因其高度可扩展性和并行化能力，在大规模数据回归和分类任务上也有着优异的表现。2017年，Ren年将XGBoost与卷积神经网络结合，用于图像分类；同年，Chen将加权的XGBoost模型应用于雷达信号分类并取得了很好的效果。</p><h3 id="5-基于深度学习的模型"><a href="#5-基于深度学习的模型" class="headerlink" title="5.基于深度学习的模型"></a>5.基于深度学习的模型</h3><p>近年来，深度学习方法在人工智能领域取得了突破性的进展，深度神经网络在图像识别、人脸检测与识别、语音识别、目标捕捉、机器翻译等多个领域都有长足的进步。一方面由于积累的数据量的提高，达到了深度学习所需要的量级，另一方面，机器运算性能的提升，也使深度学习方法有了硬件的基础。深度学习方法可以通过组合浅层次的特征形成更加抽象的高层特征表示，以发现数据的深层次隐含关系，通过多层神经网络的堆叠和激活函数的选取，可以更好地拟合复杂的非线性函数。由于市场规律的复杂性、市场价格的波动性、影响因素的多样性，仅仅依赖传统的策略分析和模型不足以应对这些挑战，而深度学习方法的引入，能够提高对这些问题的解决能力，训练出泛化能力更强的模型，对股票投资来说是具有重要的参考意义。</p><p>由于股价数据具有很强的时间关联性，我们自然想到使用LSTM（Long Short-Term Memory）或者GRU（Gated Recurrent Unit）模型挖掘股价数据在时间上的相关性。同时，中国股票市场受政策面影响很大，经济新闻和上市公司财报等文本数据也会成为股价波动的重要原因。目前研究者们普遍在股价数据的时间序列特征和经济金融信息文本特征两个大方面，使用深度学习模型对其进行预测和分析，也有学者综合以上两种特征，构造既包括技术面参数也包括基本面分析的股价特征向量，输入到模型进行学习，均取得了不错的效果，并有多种模型已经使用到荐股软件或者金融领域中。本文作为综述，只简单的介绍模型以及其基本原理，并期待相关模型能在论文和实验中表现出优秀的性能。</p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nonlocal解释</title>
      <link href="/2024/05/28/nonlocal%E8%A7%A3%E9%87%8A/"/>
      <url>/2024/05/28/nonlocal%E8%A7%A3%E9%87%8A/</url>
      
        <content type="html"><![CDATA[<h2 id="nonlocal-global"><a href="#nonlocal-global" class="headerlink" title="nonlocal global"></a>nonlocal global</h2><p>对nonlocal 关键字感到有些困惑，上手实践一下</p><p>Definition：</p><p>The <code>nonlocal</code> keyword is used to work with variables inside nested functions, where the variable should not belong to the inner function.</p><p>Use the keyword <code>nonlocal</code> to declare that the variable is not local.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">count = <span class="string">&quot;Global&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">a</span>():</span><br><span class="line">    count = <span class="string">&#x27;Enclosing&#x27;</span><span class="comment">#如果不事先声明，那么函数b中的nonlocal就会报错</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">b</span>():</span><br><span class="line">        <span class="keyword">nonlocal</span> count</span><br><span class="line">        <span class="built_in">print</span>(count)</span><br><span class="line">        count = <span class="string">&#x27;Local&#x27;</span></span><br><span class="line">    b()</span><br><span class="line">    <span class="built_in">print</span>(count)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    a()</span><br><span class="line">    <span class="built_in">print</span>(count)<span class="comment">#输出Global</span></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Enclosing</span><br><span class="line">Local</span><br><span class="line">Global</span><br></pre></td></tr></table></figure><p>nonlocal 可以让a()中count变量变为非局部，可以让b()使用</p><h4 id="global作为对比"><a href="#global作为对比" class="headerlink" title="global作为对比"></a>global作为对比</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    a = <span class="number">10</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test</span>():</span><br><span class="line">        <span class="keyword">global</span> a<span class="comment">#没有global，则a=a+1会出错</span></span><br><span class="line">        a = a + <span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(a)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bayes</title>
      <link href="/2024/04/03/Bayes/"/>
      <url>/2024/04/03/Bayes/</url>
      
        <content type="html"><![CDATA[<p>贝叶斯算法是一类基于贝叶斯定理的统计方法，用于进行概率推断和分类任务。它以18世纪的英国数学家托马斯·贝叶斯的名字命名。贝叶斯算法的核心思想是利用先验概率和观测数据来计算后验概率，从而进行推断或分类。</p><p>下面是贝叶斯算法的基本原理和步骤：</p><ol><li><p><strong>贝叶斯定理</strong>：贝叶斯定理描述了在给定观测数据的情况下，计算参数的后验概率。其数学表达式为：</p><p><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -1.238ex;" xmlns="http://www.w3.org/2000/svg" width="22.167ex" height="3.607ex" role="img" focusable="false" viewbox="0 -1047.1 9797.9 1594.2"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"/></g><g data-mml-node="mo" transform="translate(751,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1140,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"/></g><g data-mml-node="mo" transform="translate(2167.8,0)"><path data-c="2223" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"/></g><g data-mml-node="mi" transform="translate(2723.6,0)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"/></g><g data-mml-node="mo" transform="translate(3482.6,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(4149.3,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"/></g><g data-mml-node="mfrac" transform="translate(5205.1,0)"><g data-mml-node="mrow" transform="translate(220,516.8) scale(0.707)"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"/></g><g data-mml-node="mo" transform="translate(751,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1140,0)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"/></g><g data-mml-node="mo" transform="translate(1899,0)"><path data-c="2223" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"/></g><g data-mml-node="mi" transform="translate(2177,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"/></g><g data-mml-node="mo" transform="translate(2927,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g><g data-mml-node="mo" transform="translate(3316,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"/></g><g data-mml-node="mi" transform="translate(3594,0)"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"/></g><g data-mml-node="mo" transform="translate(4345,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(4734,0)"><path data-c="1D434" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"/></g><g data-mml-node="mo" transform="translate(5484,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g></g><g data-mml-node="mrow" transform="translate(1487.5,-370.3) scale(0.707)"><g data-mml-node="mi"><path data-c="1D443" d="M287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554Z"/></g><g data-mml-node="mo" transform="translate(751,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"/></g><g data-mml-node="mi" transform="translate(1140,0)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"/></g><g data-mml-node="mo" transform="translate(1899,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"/></g></g><rect width="4352.8" height="60" x="120" y="220"/></g></g></g></svg></mjx-container></p><p>其中：</p><p><img src="/img/image-20240403150126867.png" alt="image-20240403150126867"></p></li><li><p><strong>先验概率</strong>：在贝叶斯推断中，先验概率是在观测数据之前对事件发生概率的估计。它是根据经验知识或先前的数据进行估计的。</p></li><li><p><strong>似然度</strong>：似然度是在给定参数或假设的情况下观测到数据的概率。它描述了数据如何依赖于参数或假设。</p></li><li><p><strong>后验概率</strong>：后验概率是在观测到数据后对参数或假设的更新概率。它是通过贝叶斯定理计算得到的。</p></li><li><p><strong>贝叶斯分类器</strong>：在分类任务中，贝叶斯算法可以用来建立分类模型。通过估计每个类别的先验概率和似然度，可以计算出给定观测数据后每个类别的后验概率，并选择具有最高后验概率的类别作为预测结果。</p></li><li><p><strong>贝叶斯网络</strong>：贝叶斯网络是一种用图形表示变量之间条件依赖关系的概率图模型。它由节点和有向边组成，节点表示随机变量，有向边表示变量之间的依赖关系。贝叶斯网络可以用于推断概率、预测变量值和解释因果关系等任务。</p></li></ol><p>总的来说，贝叶斯算法通过利用贝叶斯定理将先验知识和观测数据结合起来，实现了对参数或假设的更新和推断，从而在不确定性环境中进行概率推断和分类。</p><p>朴素贝叶斯算法包括<code>GaussianNB</code>、<code>MultinomialNB</code> 和 <code>BernoulliNB</code> 等贝叶斯分类器</p><ol><li><strong>高斯朴素贝叶斯（Gaussian Naive Bayes）</strong>：<ul><li>适用于特征的分布服从高斯分布（正态分布）的情况。</li><li>特征数据是连续型变量时，通常使用高斯朴素贝叶斯。</li><li>在 <code>scikit-learn</code> 中，使用 <code>GaussianNB</code> 类来实现高斯朴素贝叶斯分类器。</li></ul></li><li><strong>多项式朴素贝叶斯（Multinomial Naive Bayes）</strong>：<ul><li>适用于特征的分布是多项分布的情况，即特征是表示计数的离散型变量。</li><li>在文本分类等问题中，特征通常表示单词出现的频次或文档中的词袋模型，这种情况下使用多项式朴素贝叶斯比较合适。</li><li>在 <code>scikit-learn</code> 中，使用 <code>MultinomialNB</code> 类来实现多项式朴素贝叶斯分类器。</li></ul></li><li><strong>伯努利朴素贝叶斯（Bernoulli Naive Bayes）</strong>：<ul><li>适用于特征是布尔型变量（二元变量）的情况，即特征是表示是否出现的二值型变量。</li><li>在文本分类中，通常将特征表示为单词是否出现在文档中，这种情况下使用伯努利朴素贝叶斯比较合适。</li><li>在 <code>scikit-learn</code> 中，使用 <code>BernoulliNB</code> 类来实现伯努利朴素贝叶斯分类器。</li></ul></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>数据增强</title>
      <link href="/2024/03/26/%E6%95%B0%E6%8D%AE%E5%A2%9E%E5%BC%BA/"/>
      <url>/2024/03/26/%E6%95%B0%E6%8D%AE%E5%A2%9E%E5%BC%BA/</url>
      
        <content type="html"><![CDATA[<p>Mosaic: </p><p>​        Mosaic数据增强是一种用于图像数据增强的技术，主要用于目标检测任务。它通过将多个图像拼接成一个大图像来增加训练数据的多样性。</p><p>Copy paste:</p><pre><code>     &quot;Copy-paste&quot; 数据增强是一种用于目标检测任务的技术，它通过从原始图像中复制并粘贴目标来生成新的训练样本。这种方法可以增加数据集中的样本数量，并改变目标在不同背景下的外观和位置。</code></pre><p>Random affine: </p><p>​        “Random affine” 是一种数据增强技术，常用于图像处理任务中，包括图像分类、目标检测、语义分割等。它通过随机变换图像的仿射变换来生成多样化的训练样本，从而提高模型的泛化能力和鲁棒性。</p><p>Mix up:</p><p>​        “Mix Up” 是一种用于数据增强的技术，特别适用于图像分类任务。它通过线性插值的方式将两个图像及其对应的标签混合在一起，生成新的训练样本。</p><p>Augment HSV:</p><p>​        “Augment HSV” 是一种图像数据增强技术，它主要基于修改图像的色调（Hue）、饱和度（Saturation）和亮度（Value）来生成新的训练样本。这些调整是基于图像的HSV颜色空间进行的。</p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> CV </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DL</title>
      <link href="/2024/03/04/DL/"/>
      <url>/2024/03/04/DL/</url>
      
        <content type="html"><![CDATA[<p><strong>解析解:</strong></p><p>​    解可以用一个公式简单地表达出来， 这类解叫作解析解（analytical solution）</p><p><strong><em>梯度下降</em>:</strong></p><p>​     它通过不断地在损失函数递减的方向上更新参数来降低误差。</p><p>​      梯度下降最简单的用法是计算损失函数（数据集中所有样本的损失均值） 关于模型参数的导数（在这里也可以称为梯度）</p><p><strong><em>泛化</em>（generalization）:</strong></p><p>​    找到一组参数，这组参数能够在我们从未见过的数据上实现较低的损失</p><p><strong>超参数:</strong></p><p>​    这些可以调整但不在训练过程中更新的参数称为<em>超参数</em>（hyperparameter）</p><p>​    <em>调参</em>（hyperparameter tuning）是选择超参数的过程</p><p><strong>random.shuffle():</strong></p><p>​    在训练机器学习模型时，经常会对数据进行随机打乱的操作。这有助于模型学习更好地泛化，因为模型不会过于依赖于特定的样本顺序。通过随机打乱数据，模型在每个批次中都能够看到不同的样本，从而更好地学习数据的分布和模式。</p><p><strong>归一化，标准化：</strong></p><p><img src="/img/image-20240114153338534.png" alt="image-20240114153338534"></p><p>​    μ和σ表示均值和标准差</p><p><strong>sigmoid函数：</strong></p><p>f(x) = 1/(1+e^-x)</p><h2 id="现阶段主流的股价预测模型"><a href="#现阶段主流的股价预测模型" class="headerlink" title="现阶段主流的股价预测模型"></a>现阶段主流的股价预测模型</h2><h3 id="1-ARIMA模型"><a href="#1-ARIMA模型" class="headerlink" title="1.ARIMA模型"></a>1.ARIMA模型</h3><p>ARIMA模型（英语：AutoregressiveIntegratedMovingAverage model），差分整合移动平均自回归模型，又称整合移动平均自回归模型（移动也可称作滑动），时间序列预测分析方法之一。ARIMA（p，d，q）中，AR是”自回归”，p为自回归项数；MA为”滑动平均”，q为滑动平均项数，d为使之成为平稳序列所做的差分次数（阶数）。“差分”一词虽未出现在ARIMA的英文名称中，却是关键步骤。ARIMA 模型是在平稳的时间序列基础上建立起来的，因此时间序列的平稳性是建模的重要前提。检验时间序列模型平稳的方法一般采用 ADF 单位根检验模型去检验。当然如果时间序列不稳定，也可以通过一些操作去使得时间序列稳定（比如取对数，差分），然后进行 ARIMA 模型预测，得到稳定的时间序列的预测结果，然后对预测结果进行之前使序列稳定的操作的逆操作（取指数，差分的逆操作），就可以得到原始数据的预测结果。</p><h3 id="2-基于随机过程的马尔科夫链模型"><a href="#2-基于随机过程的马尔科夫链模型" class="headerlink" title="2.基于随机过程的马尔科夫链模型"></a>2.基于随机过程的马尔科夫链模型</h3><p>马尔科夫过程是研究事物状态以及其状态转移规律的理论，适合于时间序列以及空间序列，一个时间与状态都是离散的马尔科夫过程叫做马尔科夫链，也叫马氏链（Markov Chain），马氏链模型是一类描述随机动态系统的模型，其特点是①系统每个时刻所处的状态都是随机的，②从一个时刻到下一个时刻的状态按照一定的概率转移，③下一个时刻的状态只取决于当前时刻的状态和转移概率，与其他时刻状态无关。</p><h3 id="3-基于SVM的模型"><a href="#3-基于SVM的模型" class="headerlink" title="3.基于SVM的模型"></a>3.基于SVM的模型</h3><p>支持向量机（SVM）是Vapnik和Cortes于1995年首先提出的，建立在统计学习理论的VC维理论和结构风险最小原理基础上的，它在解决小样本、非线性及高维模式识别中表现出许多特有的优势。支持向量机将非线性问题映射到高维空间，引入核函数，解决了非线性分类问题。支持向量回归（SVR）是支持向量机的推广，通过引入ε不敏感损失函数，将问题转化为通过对已知的样本数据学习找到一个拟合函数，对未知的数据进行预测，这个函数f(x)对实际的 值最大偏差为ε，从而构建回归模型。在金融领域的应用中，Trafalis和Ince研究发现SVR的预测精度远高于MLP（多层感知机）和ARIMA（差分滑动平均自回归模型），并且与神经网络相比有更加出色的性能。</p><h3 id="4-基于XGBoost集成树模型"><a href="#4-基于XGBoost集成树模型" class="headerlink" title="4.基于XGBoost集成树模型"></a>4.基于XGBoost集成树模型</h3><p>XGBoost算法是陈天奇博士于2016年提出的基于回归树的提升算法，在市场价格估计、高能物理事件分类、网络文本分类、客户行为分析等诸多机器学习任务中均表现了出色的性能，并且算法因其高度可扩展性和并行化能力，在大规模数据回归和分类任务上也有着优异的表现。2017年，Ren年将XGBoost与卷积神经网络结合，用于图像分类；同年，Chen将加权的XGBoost模型应用于雷达信号分类并取得了很好的效果。</p><h3 id="5-基于深度学习的模型"><a href="#5-基于深度学习的模型" class="headerlink" title="5.基于深度学习的模型"></a>5.基于深度学习的模型</h3><p>近年来，深度学习方法在人工智能领域取得了突破性的进展，深度神经网络在图像识别、人脸检测与识别、语音识别、目标捕捉、机器翻译等多个领域都有长足的进步。一方面由于积累的数据量的提高，达到了深度学习所需要的量级，另一方面，机器运算性能的提升，也使深度学习方法有了硬件的基础。深度学习方法可以通过组合浅层次的特征形成更加抽象的高层特征表示，以发现数据的深层次隐含关系，通过多层神经网络的堆叠和激活函数的选取，可以更好地拟合复杂的非线性函数。由于市场规律的复杂性、市场价格的波动性、影响因素的多样性，仅仅依赖传统的策略分析和模型不足以应对这些挑战，而深度学习方法的引入，能够提高对这些问题的解决能力，训练出泛化能力更强的模型，对股票投资来说是具有重要的参考意义。</p><p>由于股价数据具有很强的时间关联性，我们自然想到使用LSTM（Long Short-Term Memory）或者GRU（Gated Recurrent Unit）模型挖掘股价数据在时间上的相关性。同时，中国股票市场受政策面影响很大，经济新闻和上市公司财报等文本数据也会成为股价波动的重要原因。目前研究者们普遍在股价数据的时间序列特征和经济金融信息文本特征两个大方面，使用深度学习模型对其进行预测和分析，也有学者综合以上两种特征，构造既包括技术面参数也包括基本面分析的股价特征向量，输入到模型进行学习，均取得了不错的效果，并有多种模型已经使用到荐股软件或者金融领域中。本文作为综述，只简单的介绍模型以及其基本原理，并期待相关模型能在论文和实验中表现出优秀的性能。</p>]]></content>
      
      
      
        <tags>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LSTM</title>
      <link href="/2024/03/04/LSTM/"/>
      <url>/2024/03/04/LSTM/</url>
      
        <content type="html"><![CDATA[<h5 id="LSTM和RNN的区别"><a href="#LSTM和RNN的区别" class="headerlink" title="LSTM和RNN的区别"></a>LSTM和RNN的区别</h5><p><strong>RNN存在的问题：</strong></p><p>​    RNN对所有信息全部接收，记忆机制没有重点</p><p>​    RNN中的新信息会强制覆盖旧信息，很久之前的记忆只会占用当前记忆的很小一部分，无法对长期记忆进行有重点的处理</p><p><img src="/img/image-20231231154304823.png" alt="image-20231231154304823" style="zoom: 67%;"></p><p><img src="/img/image-20231231154557924.png" alt="image-20231231154557924" style="zoom:50%;"></p><p>LSTM（右）与RNN的主要区别</p><p><img src="/img/v2-e4f9851cad426dfe4ab1c76209546827_r.png" alt></p><h5 id="LSTM的介绍："><a href="#LSTM的介绍：" class="headerlink" title="LSTM的介绍："></a>LSTM的介绍：</h5><p><img src="/img/image-20240314221601179.png" alt="image-20240314221601179"></p><p><img src="/img/image-20231231154858556.png" alt="image-20231231154858556" style="zoom:50%;"></p><p>​                                                                                                    Memory Cell    </p><p>LSTM依然是一个循环神经网络，LSTM设置了两个关键变量：</p><p>​            · 主要负责记忆短期信息、尤其是当前时间步信息的隐藏状态h</p><p>​            · 主要负责长期记忆的细胞状态C</p><p><img src="/img/image-20231231155329822.png" alt="image-20231231155329822" style="zoom: 50%;"></p><p>Memory Cell细分为：</p><p>​    · 帮助循环网络选择遗忘多少历史信息的<strong>遗忘门</strong>（forget gate）</p><p>​    · 帮助循环网络选择吸纳多少新信息的<strong>输入门</strong>（input gate）</p><p>​    · 帮助循环网络选择出对当前时间步的预测最重要的信息，并将该信息输出给当前时间步的<strong>输出门</strong>（output gate）</p><p>LSTM 逐步解释 </p><p>​        <img src="/img/image-20231231161319580.png" alt="image-20231231161319580"></p><p>forget gate:</p><p>​        其数学本质就是计算一个0~1之间的遗忘比例f_t乘以上一个时间步传入的C_t-1，以此筛选掉部分旧信息。h_t-1是上一个时间步的短期信息，x_t是当前时间步的全部信息，参考h_t-1和x_t并乘以权重W_f，再通过sigmoid函数得到遗忘比例f_t。</p><hr><p><img src="/img/image-20231231162555150.png" alt="image-20231231162555150"></p><p>input gate:</p><p>​        参考h_t-1和x_t生成的筛选新信息的比例i_t，激活函数tanh生成候选信息C~_t，将两者相乘并与C_t-1合并得到新的长期记忆C_t。</p><hr><p><img src="/img/image-20231231163630965.png" alt="image-20231231163630965"></p><p>output gate:</p><p>​        参考h_t-1和x_t生成的一个比例值O_t，结合C_t和O_t生成当前时间步的信息h_t</p><h5 id="LSTM在股票预测中的优势和缺陷"><a href="#LSTM在股票预测中的优势和缺陷" class="headerlink" title="LSTM在股票预测中的优势和缺陷"></a><strong>LSTM在股票预测中的优势和缺陷</strong></h5><p>​    传统的RNN在处理长序列时会面临梯度消失或梯度爆炸的问题，而LSTM通过门控机制（遗忘门、输入门、输出门）可以有效地解决这一问题，从而能够捕捉更长期的依赖关系。</p><p>​    也存在一些缺陷：存在不可避免的滞后</p><p>​    回归算法将使用您提供的时间窗口中的值作为样本，以最大程度地减少误差。假设您正在尝试预测时间t的值。输入是以前的收盘价，即t-20到t-1的最后20个输入的时间序列窗口（假设样本输入的timestep是20）。回归算法可能会学习在时间t-1或t-2处的值作为预测值，因为这样不需要做什么就可以达到优化的误差之内了。这样想：如果在t-1值 6340，那么预测 t时刻为6340或在t + 1时为6340，从整体来看将最大程度地减小误差（因为误差是预测的很多点的误差进行汇总），但是实际上该算法没有学习任何东西，它只是复制，因此除了完成优化任务外，它基本上什么也不做</p><h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><p>​    特征工程：基于LSTM 的股票预测应用存在滞后性,其原因主要在于输入的数据均为前一天的股票价格数 据.在模型训练过程中发现,当处理这些数据的神经元权重达到很高的水平以后,训练误差会降到很小 的水平,导致训练好的神经网络算法实际上变成了“平移过去的数据”. 因此将当日的开盘价，最高价，最低价也作为数据输入，使得收盘价的权值减小，从而降低预测的滞后性。</p>]]></content>
      
      
      
        <tags>
            
            <tag> AI </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python学习</title>
      <link href="/2024/02/18/Python%E5%AD%A6%E4%B9%A0/"/>
      <url>/2024/02/18/Python%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="原始数据类型和运算符"><a href="#原始数据类型和运算符" class="headerlink" title="原始数据类型和运算符"></a>原始数据类型和运算符</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 整数</span></span><br><span class="line"><span class="number">3</span>  <span class="comment"># =&gt; 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 算术没有什么出乎意料的</span></span><br><span class="line"><span class="number">1</span> + <span class="number">1</span>   <span class="comment"># =&gt; 2</span></span><br><span class="line"><span class="number">8</span> - <span class="number">1</span>   <span class="comment"># =&gt; 7</span></span><br><span class="line"><span class="number">10</span> * <span class="number">2</span>  <span class="comment"># =&gt; 20</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 但是除法例外，会自动转换成浮点数</span></span><br><span class="line"><span class="number">35</span> / <span class="number">5</span>  <span class="comment"># =&gt; 7.0</span></span><br><span class="line"><span class="number">10.0</span> / <span class="number">3</span>  <span class="comment"># =&gt; 3.3333333333333335</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 整数除法的结果都是向下取整</span></span><br><span class="line"><span class="number">5</span> // <span class="number">3</span>       <span class="comment"># =&gt; 1</span></span><br><span class="line"><span class="number">5.0</span> // <span class="number">3.0</span>   <span class="comment"># =&gt; 1.0 # 浮点数也可以</span></span><br><span class="line">-<span class="number">5</span> // <span class="number">3</span>      <span class="comment"># =&gt; -2</span></span><br><span class="line">-<span class="number">5.0</span> // <span class="number">3.0</span>  <span class="comment"># =&gt; -2.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 浮点数的运算结果也是浮点数</span></span><br><span class="line"><span class="number">3</span> * <span class="number">2.0</span> <span class="comment"># =&gt; 6.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 模除</span></span><br><span class="line"><span class="number">7</span> % <span class="number">3</span> <span class="comment"># =&gt; 1</span></span><br><span class="line"><span class="comment"># i % j 结果的正负符号会和 j 相同，而不是和 i 相同</span></span><br><span class="line">-<span class="number">7</span> % <span class="number">3</span> <span class="comment"># =&gt; 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># x 的 y 次方</span></span><br><span class="line"><span class="number">2</span>**<span class="number">4</span> <span class="comment"># =&gt; 16</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用括号决定优先级</span></span><br><span class="line"><span class="number">1</span> + <span class="number">3</span> * <span class="number">2</span>    <span class="comment"># =&gt; 7</span></span><br><span class="line">(<span class="number">1</span> + <span class="number">3</span>) * <span class="number">2</span>  <span class="comment"># =&gt; 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 布尔值 (注意: 首字母大写)</span></span><br><span class="line"><span class="literal">True</span>   <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="literal">False</span>  <span class="comment"># =&gt; False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 not 取非</span></span><br><span class="line"><span class="keyword">not</span> <span class="literal">True</span>   <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="keyword">not</span> <span class="literal">False</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 逻辑运算符，注意 and 和 or 都是小写</span></span><br><span class="line"><span class="literal">True</span> <span class="keyword">and</span> <span class="literal">False</span> <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="literal">False</span> <span class="keyword">or</span> <span class="literal">True</span> <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># True 和 False 实质上就是数字 1 和0</span></span><br><span class="line"><span class="literal">True</span> + <span class="literal">True</span> <span class="comment"># =&gt; 2</span></span><br><span class="line"><span class="literal">True</span> * <span class="number">8</span>    <span class="comment"># =&gt; 8</span></span><br><span class="line"><span class="literal">False</span> - <span class="number">5</span>   <span class="comment"># =&gt; -5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数值与 True 和 False 之间的比较运算</span></span><br><span class="line"><span class="number">0</span> == <span class="literal">False</span> <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">2</span> == <span class="literal">True</span> <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="number">1</span> == <span class="literal">True</span> <span class="comment"># =&gt; True</span></span><br><span class="line">-<span class="number">5</span> != <span class="literal">False</span> <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用布尔逻辑运算符对数字类型的值进行运算时，会把数值强制转换为布尔值进行运算</span></span><br><span class="line"><span class="comment"># 但计算结果会返回它们的强制转换前的值</span></span><br><span class="line"><span class="comment"># 注意不要把 bool(ints) 与位运算的 &quot;按位与&quot;、&quot;按位或&quot; (&amp;, |) 混淆</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="number">0</span>)     <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="number">4</span>)     <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="built_in">bool</span>(-<span class="number">6</span>)    <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">0</span> <span class="keyword">and</span> <span class="number">2</span>     <span class="comment"># =&gt; 0</span></span><br><span class="line">-<span class="number">5</span> <span class="keyword">or</span> <span class="number">0</span>     <span class="comment"># =&gt; -5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用==判断相等</span></span><br><span class="line"><span class="number">1</span> == <span class="number">1</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">2</span> == <span class="number">1</span>  <span class="comment"># =&gt; False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用!=判断不等</span></span><br><span class="line"><span class="number">1</span> != <span class="number">1</span>  <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="number">2</span> != <span class="number">1</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 比较大小</span></span><br><span class="line"><span class="number">1</span> &lt; <span class="number">10</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">1</span> &gt; <span class="number">10</span>  <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="number">2</span> &lt;= <span class="number">2</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">2</span> &gt;= <span class="number">2</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断一个值是否在范围里</span></span><br><span class="line"><span class="number">1</span> &lt; <span class="number">2</span> <span class="keyword">and</span> <span class="number">2</span> &lt; <span class="number">3</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">2</span> &lt; <span class="number">3</span> <span class="keyword">and</span> <span class="number">3</span> &lt; <span class="number">2</span>  <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="comment"># 大小比较可以连起来！</span></span><br><span class="line"><span class="number">1</span> &lt; <span class="number">2</span> &lt; <span class="number">3</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">2</span> &lt; <span class="number">3</span> &lt; <span class="number">2</span>  <span class="comment"># =&gt; False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># (is 对比 ==) is 判断两个变量是否引用同一个对象,</span></span><br><span class="line"><span class="comment"># 而 == 判断两个对象是否含有相同的值</span></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]  <span class="comment"># 变量 a 是一个新的列表, [1, 2, 3, 4]</span></span><br><span class="line">b = a             <span class="comment"># 变量 b 赋值了变量 a 的值</span></span><br><span class="line">b <span class="keyword">is</span> a            <span class="comment"># =&gt; True, a 和 b 引用的是同一个对象</span></span><br><span class="line">b == a            <span class="comment"># =&gt; True, a 和 b 的对象的值相同</span></span><br><span class="line">b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]  <span class="comment"># 变量 b 赋值了一个新的列表, [1, 2, 3, 4]</span></span><br><span class="line">b <span class="keyword">is</span> a            <span class="comment"># =&gt; False, a 和 b 引用的不是同一个对象</span></span><br><span class="line">b == a            <span class="comment"># =&gt; True, a 和 b 的对象的值相同</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建字符串可以使用单引号（&#x27;）或者双引号（&quot;）</span></span><br><span class="line"><span class="string">&quot;这是个字符串&quot;</span></span><br><span class="line"><span class="string">&#x27;这也是个字符串&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串可以使用加号连接成新的字符串</span></span><br><span class="line"><span class="string">&quot;Hello &quot;</span> + <span class="string">&quot;world!&quot;</span>  <span class="comment"># =&gt; &quot;Hello world!&quot;</span></span><br><span class="line"><span class="comment"># 非变量形式的字符串甚至可以在没有加号的情况下连接</span></span><br><span class="line"><span class="string">&quot;Hello &quot;</span> <span class="string">&quot;world!&quot;</span>    <span class="comment"># =&gt; &quot;Hello world!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串可以被当作字符列表</span></span><br><span class="line"><span class="string">&quot;Hello world!&quot;</span>[<span class="number">0</span>]  <span class="comment"># =&gt; &#x27;H&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 你可以获得字符串的长度</span></span><br><span class="line"><span class="built_in">len</span>(<span class="string">&quot;This is a string&quot;</span>)  <span class="comment"># =&gt; 16</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 你可以使用 f-strings 格式化字符串（python3.6+）</span></span><br><span class="line">name = <span class="string">&quot;Reiko&quot;</span></span><br><span class="line"><span class="string">f&quot;She said her name is <span class="subst">&#123;name&#125;</span>.&quot;</span> <span class="comment"># =&gt; &quot;She said her name is Reiko&quot;</span></span><br><span class="line"><span class="comment"># 你可以在大括号内几乎加入任何 python 表达式，表达式的结果会以字符串的形式返回</span></span><br><span class="line"><span class="string">f&quot;<span class="subst">&#123;name&#125;</span> is <span class="subst">&#123;<span class="built_in">len</span>(name)&#125;</span> characters long.&quot;</span> <span class="comment"># =&gt; &quot;Reiko is 5 characters long.&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 .format 来格式化字符串</span></span><br><span class="line"><span class="string">&quot;&#123;&#125; can be &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;strings&quot;</span>, <span class="string">&quot;interpolated&quot;</span>)</span><br><span class="line"><span class="comment"># 可以重复参数以节省时间</span></span><br><span class="line"><span class="string">&quot;&#123;0&#125; be nimble, &#123;0&#125; be quick, &#123;0&#125; jump over the &#123;1&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;Jack&quot;</span>, <span class="string">&quot;candle stick&quot;</span>)</span><br><span class="line"><span class="comment"># =&gt; &quot;Jack be nimble, Jack be quick, Jack jump over the candle stick&quot;</span></span><br><span class="line"><span class="comment"># 如果不想数参数，可以用关键字</span></span><br><span class="line"><span class="string">&quot;&#123;name&#125; wants to eat &#123;food&#125;&quot;</span>.<span class="built_in">format</span>(name=<span class="string">&quot;Bob&quot;</span>, food=<span class="string">&quot;lasagna&quot;</span>) </span><br><span class="line"><span class="comment"># =&gt; &quot;Bob wants to eat lasagna&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果你的 Python3 程序也要在 Python2.5 以下环境运行，也可以用老式的格式化语法</span></span><br><span class="line"><span class="string">&quot;%s can be %s the %s way&quot;</span> % (<span class="string">&quot;strings&quot;</span>, <span class="string">&quot;interpolated&quot;</span>, <span class="string">&quot;old&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># None是一个对象</span></span><br><span class="line"><span class="literal">None</span>  <span class="comment"># =&gt; None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 当与 None 进行比较时不要用 ==，要用 is。is 是用来比较两个变量是否指向同一个对象。</span></span><br><span class="line"><span class="string">&quot;etc&quot;</span> <span class="keyword">is</span> <span class="literal">None</span>  <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="literal">None</span> <span class="keyword">is</span> <span class="literal">None</span>  <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># None，0，空字符串，空列表，空字典，空元组都算是 False</span></span><br><span class="line"><span class="comment"># 所有其他值都是 True</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="number">0</span>)  <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="string">&quot;&quot;</span>)  <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="built_in">bool</span>([]) <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="built_in">bool</span>(&#123;&#125;) <span class="comment"># =&gt; False</span></span><br><span class="line"><span class="built_in">bool</span>(()) <span class="comment"># =&gt; False</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="变量和集合"><a href="#变量和集合" class="headerlink" title="变量和集合"></a>变量和集合</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># print是内置的打印函数</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;I&#x27;m Python. Nice to meet you!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认情况下，print 函数会在输出结果后加入一个空行作为结尾</span></span><br><span class="line"><span class="comment"># 可以使用附加参数改变输出结尾</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello, World&quot;</span>, end=<span class="string">&quot;!&quot;</span>)  <span class="comment"># =&gt; Hello, World!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以很简单的从终端获得输入数据</span></span><br><span class="line">input_string_var = <span class="built_in">input</span>(<span class="string">&quot;Enter some data: &quot;</span>) <span class="comment"># 返回字符串数值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在给变量赋值前不用提前声明</span></span><br><span class="line"><span class="comment"># 习惯上变量命名是小写，用下划线分隔单词</span></span><br><span class="line">some_var = <span class="number">5</span></span><br><span class="line">some_var  <span class="comment"># =&gt; 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问未赋值的变量会抛出异常</span></span><br><span class="line"><span class="comment"># 参考流程控制一段来学习异常处理</span></span><br><span class="line">some_unknown_var  <span class="comment"># 抛出 NameError</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &quot;if&quot; 可以用作表达式，它的作用等同于 C 语言的三元运算符 &quot;?:&quot;</span></span><br><span class="line"><span class="string">&quot;yay!&quot;</span> <span class="keyword">if</span> <span class="number">0</span> &gt; <span class="number">1</span> <span class="keyword">else</span> <span class="string">&quot;nay!&quot;</span>  <span class="comment"># =&gt; &quot;nay!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用列表 (list) 储存序列</span></span><br><span class="line">li = []</span><br><span class="line"><span class="comment"># 创建列表时也可以同时赋给元素</span></span><br><span class="line">other_li = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用append在列表最后追加元素</span></span><br><span class="line">li.append(<span class="number">1</span>)    <span class="comment"># li现在是[1]</span></span><br><span class="line">li.append(<span class="number">2</span>)    <span class="comment"># li现在是[1, 2]</span></span><br><span class="line">li.append(<span class="number">4</span>)    <span class="comment"># li现在是[1, 2, 4]</span></span><br><span class="line">li.append(<span class="number">3</span>)    <span class="comment"># li现在是[1, 2, 4, 3]</span></span><br><span class="line"><span class="comment"># 用pop从列表尾部删除</span></span><br><span class="line">li.pop()        <span class="comment"># =&gt; 3 且li现在是[1, 2, 4]</span></span><br><span class="line"><span class="comment"># 把3再放回去</span></span><br><span class="line">li.append(<span class="number">3</span>)    <span class="comment"># li变回[1, 2, 4, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表存取跟数组一样</span></span><br><span class="line">li[<span class="number">0</span>]  <span class="comment"># =&gt; 1</span></span><br><span class="line"><span class="comment"># 取出最后一个元素</span></span><br><span class="line">li[-<span class="number">1</span>]  <span class="comment"># =&gt; 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 越界存取会造成 IndexError</span></span><br><span class="line">li[<span class="number">4</span>]  <span class="comment"># 抛出 IndexError</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表有切割语法</span></span><br><span class="line">li[<span class="number">1</span>:<span class="number">3</span>]    <span class="comment"># =&gt; [2, 4]</span></span><br><span class="line"><span class="comment"># 取尾</span></span><br><span class="line">li[<span class="number">2</span>:]     <span class="comment"># =&gt; [4, 3]</span></span><br><span class="line"><span class="comment"># 取头</span></span><br><span class="line">li[:<span class="number">3</span>]     <span class="comment"># =&gt; [1, 2, 4]</span></span><br><span class="line"><span class="comment"># 隔一个取一个</span></span><br><span class="line">li[::<span class="number">2</span>]    <span class="comment"># =&gt;[1, 4]</span></span><br><span class="line"><span class="comment"># 倒排列表</span></span><br><span class="line">li[::-<span class="number">1</span>]   <span class="comment"># =&gt; [3, 4, 2, 1]</span></span><br><span class="line"><span class="comment"># 可以用三个参数的任何组合来构建切割</span></span><br><span class="line"><span class="comment"># li[始:终:步伐]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 简单的实现了单层数组的深度复制</span></span><br><span class="line">li2 = li[:]  <span class="comment"># =&gt; li2 = [1, 2, 4, 3] ，但 (li2 is li) 会返回 False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 del 删除任何一个元素</span></span><br><span class="line"><span class="keyword">del</span> li[<span class="number">2</span>]   <span class="comment"># li 现在为 [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除第一个匹配的元素</span></span><br><span class="line">li.remove(<span class="number">2</span>)  <span class="comment"># li 现在为 [1, 3]</span></span><br><span class="line">li.remove(<span class="number">2</span>)  <span class="comment"># 抛出错误 ValueError: 2 is not in the list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在指定索引处插入一个新的元素</span></span><br><span class="line">li.insert(<span class="number">1</span>, <span class="number">2</span>)  <span class="comment"># li is now [1, 2, 3] again</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获得列表第一个匹配的值的索引</span></span><br><span class="line">li.index(<span class="number">2</span>)  <span class="comment"># =&gt; 1</span></span><br><span class="line">li.index(<span class="number">4</span>)  <span class="comment"># 抛出一个 ValueError: 4 is not in the list</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表可以相加</span></span><br><span class="line"><span class="comment"># 注意：li 和 other_li 的值都不变</span></span><br><span class="line">li + other_li   <span class="comment"># =&gt; [1, 2, 3, 4, 5, 6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 &quot;extend()&quot; 拼接列表</span></span><br><span class="line">li.extend(other_li)   <span class="comment"># li 现在是[1, 2, 3, 4, 5, 6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 &quot;in&quot; 测试列表是否包含值</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">in</span> li   <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 &quot;len()&quot; 取列表长度</span></span><br><span class="line"><span class="built_in">len</span>(li)   <span class="comment"># =&gt; 6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 元组类似列表，但是不允许修改</span></span><br><span class="line">tup = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">tup[<span class="number">0</span>]   <span class="comment"># =&gt; 1</span></span><br><span class="line">tup[<span class="number">0</span>] = <span class="number">3</span>  <span class="comment"># 抛出 TypeError</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果元素数量为 1 的元组必须在元素之后加一个逗号</span></span><br><span class="line"><span class="comment"># 其他元素数量的元组，包括空元组，都不需要</span></span><br><span class="line"><span class="built_in">type</span>((<span class="number">1</span>))   <span class="comment"># =&gt; &lt;class &#x27;int&#x27;&gt;</span></span><br><span class="line"><span class="built_in">type</span>((<span class="number">1</span>,))  <span class="comment"># =&gt; &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"><span class="built_in">type</span>(())    <span class="comment"># =&gt; &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表允许的操作元组大多都可以</span></span><br><span class="line"><span class="built_in">len</span>(tup)   <span class="comment"># =&gt; 3</span></span><br><span class="line">tup + (<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)   <span class="comment"># =&gt; (1, 2, 3, 4, 5, 6)</span></span><br><span class="line">tup[:<span class="number">2</span>]   <span class="comment"># =&gt; (1, 2)</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">in</span> tup   <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以把元组合列表解包，赋值给变量</span></span><br><span class="line">a, b, c = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)     <span class="comment"># 现在 a 是 1，b 是 2，c 是 3</span></span><br><span class="line"><span class="comment"># 也可以做扩展解包</span></span><br><span class="line">a, *b, c = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)  <span class="comment"># 现在 a 是 1, b 是 [2, 3]， c 是 4</span></span><br><span class="line"><span class="comment"># 元组周围的括号是可以省略的</span></span><br><span class="line">d, e, f = <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span> <span class="comment"># 元组 4, 5, 6 通过解包被赋值给变量 d, e, f</span></span><br><span class="line"><span class="comment"># 交换两个变量的值就这么简单</span></span><br><span class="line">e, d = d, e     <span class="comment"># 现在 d 是 5，e 是 4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字典用来存储 key 到 value 的映射关系</span></span><br><span class="line">empty_dict = &#123;&#125;</span><br><span class="line"><span class="comment"># 初始化的字典</span></span><br><span class="line">filled_dict = &#123;<span class="string">&quot;one&quot;</span>: <span class="number">1</span>, <span class="string">&quot;two&quot;</span>: <span class="number">2</span>, <span class="string">&quot;three&quot;</span>: <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 字典的 key 必须为不可变类型。 这是为了确保 key 被转换为唯一的哈希值以用于快速查询</span></span><br><span class="line"><span class="comment"># 不可变类型包括整数、浮点、字符串、元组</span></span><br><span class="line">invalid_dict = &#123;[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]: <span class="string">&quot;123&quot;</span>&#125;  <span class="comment"># =&gt; 抛出 TypeError: unhashable type: &#x27;list&#x27;</span></span><br><span class="line">valid_dict = &#123;(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>):[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]&#125;   <span class="comment"># 然而 value 可以是任何类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用[]取值</span></span><br><span class="line">filled_dict[<span class="string">&quot;one&quot;</span>]   <span class="comment"># =&gt; 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 keys 获得所有的键。</span></span><br><span class="line"><span class="comment"># 因为 keys 返回一个可迭代对象，所以我们需要把它包在 &quot;list()&quot; 里才能转换为列表。</span></span><br><span class="line"><span class="comment"># 我们下面会详细介绍可迭代。</span></span><br><span class="line"><span class="comment"># 注意: 对于版本 &lt; 3.7 的 python, 字典的 key 的排序是无序的。你的运行结果</span></span><br><span class="line"><span class="comment"># 可能与下面的例子不符，但是在 3.7 版本，字典中的项会按照他们被插入到字典的顺序进行排序</span></span><br><span class="line"><span class="built_in">list</span>(filled_dict.keys())  <span class="comment"># =&gt; [&quot;three&quot;, &quot;two&quot;, &quot;one&quot;] Python 版本 &lt;3.7</span></span><br><span class="line"><span class="built_in">list</span>(filled_dict.keys())  <span class="comment"># =&gt; [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;] Python 版本 3.7+</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 &quot;values()&quot; 获得所有的值。跟 keys 一样也是可迭代对象，要使用 &quot;list()&quot; 才能转换为列表。</span></span><br><span class="line"><span class="comment"># 注意: 排序顺序和 keys 的情况相同。</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span>(filled_dict.values())  <span class="comment"># =&gt; [3, 2, 1] Python 版本 &lt; 3.7</span></span><br><span class="line"><span class="built_in">list</span>(filled_dict.values())  <span class="comment"># =&gt; [1, 2, 3] Python 版本 3.7+</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用in测试一个字典是否包含一个键</span></span><br><span class="line"><span class="string">&quot;one&quot;</span> <span class="keyword">in</span> filled_dict   <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">in</span> filled_dict   <span class="comment"># =&gt; False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问不存在的键会导致 KeyError</span></span><br><span class="line">filled_dict[<span class="string">&quot;four&quot;</span>]   <span class="comment"># KeyError</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 &quot;get()&quot; 来避免KeyError</span></span><br><span class="line">filled_dict.get(<span class="string">&quot;one&quot;</span>)      <span class="comment"># =&gt; 1</span></span><br><span class="line">filled_dict.get(<span class="string">&quot;four&quot;</span>)     <span class="comment"># =&gt; None</span></span><br><span class="line"><span class="comment"># 当键不存在的时候 &quot;get()&quot; 方法可以返回默认值</span></span><br><span class="line">filled_dict.get(<span class="string">&quot;one&quot;</span>, <span class="number">4</span>)   <span class="comment"># =&gt; 1</span></span><br><span class="line">filled_dict.get(<span class="string">&quot;four&quot;</span>, <span class="number">4</span>)  <span class="comment"># =&gt; 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &quot;setdefault()&quot; 方法只有当键不存在的时候插入新值</span></span><br><span class="line">filled_dict.setdefault(<span class="string">&quot;five&quot;</span>, <span class="number">5</span>)  <span class="comment"># filled_dict[&quot;five&quot;] 设为5</span></span><br><span class="line">filled_dict.setdefault(<span class="string">&quot;five&quot;</span>, <span class="number">6</span>)  <span class="comment"># filled_dict[&quot;five&quot;] 还是5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字典赋值</span></span><br><span class="line">filled_dict.update(&#123;<span class="string">&quot;four&quot;</span>:<span class="number">4</span>&#125;) <span class="comment"># =&gt; &#123;&quot;one&quot;: 1, &quot;two&quot;: 2, &quot;three&quot;: 3, &quot;four&quot;: 4&#125;</span></span><br><span class="line">filled_dict[<span class="string">&quot;four&quot;</span>] = <span class="number">4</span>        <span class="comment"># 另一种赋值方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 del 删除项</span></span><br><span class="line"><span class="keyword">del</span> filled_dict[<span class="string">&quot;one&quot;</span>]  <span class="comment"># 从 filled_dict 中把 one 删除</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 set 表达集合</span></span><br><span class="line">empty_set = <span class="built_in">set</span>()</span><br><span class="line"><span class="comment"># 初始化一个集合，语法跟字典相似。</span></span><br><span class="line">some_set = &#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;   <span class="comment"># some_set现在是 &#123;1, 2, 3, 4&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 类似字典的 keys，set 的元素也必须是不可变类型</span></span><br><span class="line">invalid_set = &#123;[<span class="number">1</span>], <span class="number">1</span>&#125;  <span class="comment"># =&gt; Raises a TypeError: unhashable type: &#x27;list&#x27;</span></span><br><span class="line">valid_set = &#123;(<span class="number">1</span>,), <span class="number">1</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以把集合赋值于变量</span></span><br><span class="line">filled_set = some_set</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为集合添加元素</span></span><br><span class="line">filled_set.add(<span class="number">5</span>)   <span class="comment"># filled_set 现在是 &#123;1, 2, 3, 4, 5&#125;</span></span><br><span class="line"><span class="comment"># set 没有重复的元素</span></span><br><span class="line">filled_set.add(<span class="number">5</span>)   <span class="comment"># filled_set 依然是 &#123;1, 2, 3, 4, 5&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &quot;&amp;&quot; 取交集</span></span><br><span class="line">other_set = &#123;<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;</span><br><span class="line">filled_set &amp; other_set   <span class="comment"># =&gt; &#123;3, 4, 5&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &quot;|&quot; 取并集</span></span><br><span class="line">filled_set | other_set   <span class="comment"># =&gt; &#123;1, 2, 3, 4, 5, 6&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &quot;-&quot; 取补集</span></span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125; - &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>&#125;   <span class="comment"># =&gt; &#123;1, 4&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &quot;^&quot; 取异或集（对称差）</span></span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125; ^ &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>&#125;  <span class="comment"># =&gt; &#123;1, 4, 5&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断左边的集合是否是右边集合的超集</span></span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>&#125; &gt;= &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125; <span class="comment"># =&gt; False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断左边的集合是否是右边集合的子集</span></span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>&#125; &lt;= &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125; <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># in 测试集合是否包含元素</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">in</span> filled_set   <span class="comment"># =&gt; True</span></span><br><span class="line"><span class="number">10</span> <span class="keyword">in</span> filled_set   <span class="comment"># =&gt; False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 单层集合的深度复制</span></span><br><span class="line">filled_set = some_set.copy()  <span class="comment"># filled_set 是 &#123;1, 2, 3, 4, 5&#125;</span></span><br><span class="line">filled_set <span class="keyword">is</span> some_set        <span class="comment"># =&gt; False</span></span><br></pre></td></tr></table></figure><h1 id="流程控制和迭代器"><a href="#流程控制和迭代器" class="headerlink" title="流程控制和迭代器"></a>流程控制和迭代器</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 先随便定义一个变量</span></span><br><span class="line">some_var = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这是个if语句。注意缩进在Python里是有意义的！</span></span><br><span class="line"><span class="comment"># 缩进要使用 4 个空格而不是 tabs。</span></span><br><span class="line"><span class="comment"># 这段代码会打印 &quot;some_var is smaller than 10&quot;</span></span><br><span class="line"><span class="keyword">if</span> some_var &gt; <span class="number">10</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;some_var is totally bigger than 10.&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> some_var &lt; <span class="number">10</span>:    <span class="comment"># elif 语句是可选的</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;some_var is smaller than 10.&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:                  <span class="comment"># else 也是可选的</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;some_var is indeed 10.&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">用 for 循环语句遍历列表</span></span><br><span class="line"><span class="string">打印:</span></span><br><span class="line"><span class="string">    dog is a mammal</span></span><br><span class="line"><span class="string">    cat is a mammal</span></span><br><span class="line"><span class="string">    mouse is a mammal</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> animal <span class="keyword">in</span> [<span class="string">&quot;dog&quot;</span>, <span class="string">&quot;cat&quot;</span>, <span class="string">&quot;mouse&quot;</span>]:</span><br><span class="line">    <span class="comment"># 你可以使用 format() 格式化字符串并插入值</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#123;&#125; is a mammal&quot;</span>.<span class="built_in">format</span>(animal))</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&quot;range(number)&quot; 返回数字列表从 0 到 number 的数字</span></span><br><span class="line"><span class="string">打印:</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&quot;range(lower, upper)&quot; 会返回一个包含从 lower 到 upper 的数字迭代器</span></span><br><span class="line"><span class="string">prints:</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    6</span></span><br><span class="line"><span class="string">    7</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>, <span class="number">8</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&quot;range(lower, upper, step)&quot; 会返回一个，从 lower 到 upper、并且间隔值为 step 的迭代器。</span></span><br><span class="line"><span class="string">如果 step 未传入则会使用默认值 1</span></span><br><span class="line"><span class="string">prints:</span></span><br><span class="line"><span class="string">    4</span></span><br><span class="line"><span class="string">    6</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>, <span class="number">8</span>, <span class="number">2</span>):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">遍历列表，并且同时返回列表里的每一个元素的索引和数值。</span></span><br><span class="line"><span class="string">prints:</span></span><br><span class="line"><span class="string">    0 dog</span></span><br><span class="line"><span class="string">    1 cat</span></span><br><span class="line"><span class="string">    2 mouse</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">animals = [<span class="string">&quot;dog&quot;</span>, <span class="string">&quot;cat&quot;</span>, <span class="string">&quot;mouse&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> i, value <span class="keyword">in</span> <span class="built_in">enumerate</span>(animals):</span><br><span class="line">    <span class="built_in">print</span>(i, value)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">while 循环直到条件不满足</span></span><br><span class="line"><span class="string">打印:</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">    1</span></span><br><span class="line"><span class="string">    2</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">x = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> x &lt; <span class="number">4</span>:</span><br><span class="line">    <span class="built_in">print</span>(x)</span><br><span class="line">    x += <span class="number">1</span>  <span class="comment"># x = x + 1 的简写</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 try/except 块处理异常状况</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment"># 用 raise 抛出异常</span></span><br><span class="line">    <span class="keyword">raise</span> IndexError(<span class="string">&quot;This is an index error&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> IndexError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="keyword">pass</span>                             <span class="comment"># pass 是无操作，但是应该在这里处理错误</span></span><br><span class="line"><span class="keyword">except</span> (TypeError, NameError):</span><br><span class="line">    <span class="keyword">pass</span>                             <span class="comment"># 可以同时处理不同类的错误</span></span><br><span class="line"><span class="keyword">else</span>:                    <span class="comment"># else语句是可选的，必须在所有的except之后</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;All good!&quot;</span>)   <span class="comment"># 只有当try运行完没有错误的时候这句才会运行</span></span><br><span class="line"><span class="keyword">finally</span>:                                 <span class="comment"># 在任何情况下都会执行</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;We can clean up resources here&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 你可以使用 with 语句来代替 try/finally 对操作进行结束的操作</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;myfile.txt&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">        <span class="built_in">print</span>(line)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 写入文件</span></span><br><span class="line">contents = &#123;<span class="string">&quot;aa&quot;</span>: <span class="number">12</span>, <span class="string">&quot;bb&quot;</span>: <span class="number">21</span>&#125;</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;myfile1.txt&quot;</span>, <span class="string">&quot;w+&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    file.write(<span class="built_in">str</span>(contents))        <span class="comment"># 写入字符串到文件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;myfile2.txt&quot;</span>, <span class="string">&quot;w+&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    file.write(json.dumps(contents)) <span class="comment"># 写入对象到文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Reading from a file</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;myfile1.txt&quot;</span>, <span class="string">&quot;r+&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    contents = file.read()           <span class="comment"># 从文件读取字符串</span></span><br><span class="line"><span class="built_in">print</span>(contents)</span><br><span class="line"><span class="comment"># print: &#123;&quot;aa&quot;: 12, &quot;bb&quot;: 21&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;myfile2.txt&quot;</span>, <span class="string">&quot;r+&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    contents = json.load(file)       <span class="comment"># 从文件读取 json 对象</span></span><br><span class="line"><span class="built_in">print</span>(contents)</span><br><span class="line"><span class="comment"># print: &#123;&quot;aa&quot;: 12, &quot;bb&quot;: 21&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Windows 环境调用 open() 读取文件的默认编码为 ANSI，如果需要读取 utf-8 编码的文件，</span></span><br><span class="line"><span class="comment"># 需要指定 encoding 参数:</span></span><br><span class="line"><span class="comment"># open(&quot;myfile3.txt&quot;, &quot;r+&quot;, encoding = &quot;utf-8&quot;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Python 提供一个叫做可迭代 (iterable) 的基本抽象。一个可迭代对象是可以被当作序列</span></span><br><span class="line"><span class="comment"># 的对象。比如说上面 range 返回的对象就是可迭代的。</span></span><br><span class="line"></span><br><span class="line">filled_dict = &#123;<span class="string">&quot;one&quot;</span>: <span class="number">1</span>, <span class="string">&quot;two&quot;</span>: <span class="number">2</span>, <span class="string">&quot;three&quot;</span>: <span class="number">3</span>&#125;</span><br><span class="line">our_iterable = filled_dict.keys()</span><br><span class="line"><span class="built_in">print</span>(our_iterable) <span class="comment"># =&gt; dict_keys([&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;])，是一个实现可迭代接口的对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可迭代对象可以遍历</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> our_iterable:</span><br><span class="line">    <span class="built_in">print</span>(i)    <span class="comment"># 打印 one, two, three</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 但是不可以随机访问</span></span><br><span class="line">our_iterable[<span class="number">1</span>]  <span class="comment"># 抛出TypeError</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可迭代对象知道怎么生成迭代器</span></span><br><span class="line">our_iterator = <span class="built_in">iter</span>(our_iterable)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 迭代器是一个可以记住遍历的位置的对象</span></span><br><span class="line"><span class="comment"># 用 &quot;next()&quot; 获得下一个对象</span></span><br><span class="line"><span class="built_in">next</span>(our_iterator)  <span class="comment"># =&gt; &quot;one&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 再一次调取 &quot;next()&quot; 时会记得位置</span></span><br><span class="line"><span class="built_in">next</span>(our_iterator)  <span class="comment"># =&gt; &quot;two&quot;</span></span><br><span class="line"><span class="built_in">next</span>(our_iterator)  <span class="comment"># =&gt; &quot;three&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 当迭代器所有元素都取出后，会抛出 StopIteration</span></span><br><span class="line"><span class="built_in">next</span>(our_iterator) <span class="comment"># 抛出 StopIteration</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 我们还可以通过遍历访问所有的值，实际上，for 内部实现了迭代</span></span><br><span class="line">our_iterator = <span class="built_in">iter</span>(our_iterable)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> our_iterator:</span><br><span class="line">    <span class="built_in">print</span>(i)  <span class="comment"># 依次打印 one, two, three</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以用 list 一次取出迭代器或者可迭代对象所有的元素</span></span><br><span class="line"><span class="built_in">list</span>(filled_dict.keys())  <span class="comment"># =&gt; 返回 [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;]</span></span><br><span class="line"><span class="built_in">list</span>(our_iterator)  <span class="comment"># =&gt; 返回 [] 因为迭代的位置被保存了</span></span><br></pre></td></tr></table></figure><h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 用def定义新函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;x is &#123;&#125; and y is &#123;&#125;&quot;</span>.<span class="built_in">format</span>(x, y))</span><br><span class="line">    <span class="keyword">return</span> x + y    <span class="comment"># 用 return 语句返回</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用函数</span></span><br><span class="line">add(<span class="number">5</span>, <span class="number">6</span>)   <span class="comment"># =&gt; 打印 &quot;x is 5 and y is 6&quot; 并且返回 11</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 也可以用关键字参数来调用函数</span></span><br><span class="line">add(y=<span class="number">6</span>, x=<span class="number">5</span>)   <span class="comment"># 关键字参数可以用任何顺序</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 我们可以定义一个可变参数函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">varargs</span>(<span class="params">*args</span>):</span><br><span class="line">    <span class="keyword">return</span> args</span><br><span class="line"></span><br><span class="line">varargs(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)   <span class="comment"># =&gt; (1, 2, 3)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 我们也可以定义一个关键字可变参数函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">keyword_args</span>(<span class="params">**kwargs</span>):</span><br><span class="line">    <span class="keyword">return</span> kwargs</span><br><span class="line"></span><br><span class="line"><span class="comment"># 我们来看看结果是什么：</span></span><br><span class="line">keyword_args(big=<span class="string">&quot;foot&quot;</span>, loch=<span class="string">&quot;ness&quot;</span>)   <span class="comment"># =&gt; &#123;&quot;big&quot;: &quot;foot&quot;, &quot;loch&quot;: &quot;ness&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这两种可变参数可以混着用</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">all_the_args</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">    <span class="built_in">print</span>(args)</span><br><span class="line">    <span class="built_in">print</span>(kwargs)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">all_the_args(1, 2, a=3, b=4) prints:</span></span><br><span class="line"><span class="string">    (1, 2)</span></span><br><span class="line"><span class="string">    &#123;&quot;a&quot;: 3, &quot;b&quot;: 4&#125;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用可变参数函数时可以做跟上面相反的，用 * 展开元组，用 ** 展开字典。</span></span><br><span class="line">args = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">kwargs = &#123;<span class="string">&quot;a&quot;</span>: <span class="number">3</span>, <span class="string">&quot;b&quot;</span>: <span class="number">4</span>&#125;</span><br><span class="line">all_the_args(*args)   <span class="comment"># 相当于 all_the_args(1, 2, 3, 4)</span></span><br><span class="line">all_the_args(**kwargs)   <span class="comment"># 相当于 all_the_args(a=3, b=4)</span></span><br><span class="line">all_the_args(*args, **kwargs)   <span class="comment"># 相当于 all_the_args(1, 2, 3, 4, a=3, b=4)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用返回多个数值（返回值为元组类型）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">swap</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="keyword">return</span> y, x  <span class="comment"># 用不带括号的元组的格式来返回多个数值</span></span><br><span class="line">                 <span class="comment"># (注意: 括号不需要加，但是也可以加)</span></span><br><span class="line"></span><br><span class="line">x = <span class="number">1</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">x, y = swap(x, y)     <span class="comment"># =&gt; x = 2, y = 1</span></span><br><span class="line"><span class="comment"># (x, y) = swap(x,y)  # 同上，括号不需要加，但是也可以加</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 函数作用域</span></span><br><span class="line">x = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">setX</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="comment"># 局部作用域的 x 和全局域的 x 是不同的</span></span><br><span class="line">    x = num <span class="comment"># =&gt; 43</span></span><br><span class="line">    <span class="built_in">print</span> (x) <span class="comment"># =&gt; 43</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">setGlobalX</span>(<span class="params">num</span>):</span><br><span class="line">    <span class="keyword">global</span> x</span><br><span class="line">    <span class="built_in">print</span> (x) <span class="comment"># =&gt; 5</span></span><br><span class="line">    x = num   <span class="comment"># 现在全局域的 x 被赋值</span></span><br><span class="line">    <span class="built_in">print</span> (x) <span class="comment"># =&gt; 6</span></span><br><span class="line"></span><br><span class="line">setX(<span class="number">43</span>)</span><br><span class="line">setGlobalX(<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 函数在 Python 是一等公民</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_adder</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">adder</span>(<span class="params">y</span>):</span><br><span class="line">        <span class="keyword">return</span> x + y</span><br><span class="line">    <span class="keyword">return</span> adder</span><br><span class="line"></span><br><span class="line">add_10 = create_adder(<span class="number">10</span>)</span><br><span class="line">add_10(<span class="number">3</span>)   <span class="comment"># =&gt; 13</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 也有匿名函数</span></span><br><span class="line">(<span class="keyword">lambda</span> x: x &gt; <span class="number">2</span>)(<span class="number">3</span>)                  <span class="comment"># =&gt; True</span></span><br><span class="line">(<span class="keyword">lambda</span> x, y: x ** <span class="number">2</span> + y ** <span class="number">2</span>)(<span class="number">2</span>, <span class="number">1</span>)  <span class="comment"># =&gt; 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 内置的高阶函数</span></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">map</span>(add_10, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]))          <span class="comment"># =&gt; [11, 12, 13]</span></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">max</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>]))  <span class="comment"># =&gt; [4, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">filter</span>(<span class="keyword">lambda</span> x: x &gt; <span class="number">5</span>, [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]))  <span class="comment"># =&gt; [6, 7]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用列表推导式可以简化映射和过滤。列表推导式的返回值是另一个列表。</span></span><br><span class="line">[add_10(i) <span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]]  <span class="comment"># =&gt; [11, 12, 13]</span></span><br><span class="line">[x <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>] <span class="keyword">if</span> x &gt; <span class="number">5</span>]   <span class="comment"># =&gt; [6, 7]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 你也可以用这种方式实现对集合和字典的构建</span></span><br><span class="line">&#123;x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="string">&#x27;abcddeef&#x27;</span> <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> <span class="string">&#x27;abc&#x27;</span>&#125;  <span class="comment"># =&gt; &#123;&#x27;d&#x27;, &#x27;e&#x27;, &#x27;f&#x27;&#125;</span></span><br><span class="line">&#123;x: x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)&#125;  <span class="comment"># =&gt; &#123;0: 0, 1: 1, 2: 4, 3: 9, 4: 16&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="built_in">print</span>(math.sqrt(<span class="number">16</span>))  <span class="comment"># =&gt; 4.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 你可以导入模块中具体的函数</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> ceil, floor</span><br><span class="line"><span class="built_in">print</span>(ceil(<span class="number">3.7</span>))   <span class="comment"># =&gt; 4.0</span></span><br><span class="line"><span class="built_in">print</span>(floor(<span class="number">3.7</span>))  <span class="comment"># =&gt; 3.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 你可以导入模块中的所有的函数</span></span><br><span class="line"><span class="comment"># 警告: 此操作不推荐</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment"># 你可以对模块名进行简化</span></span><br><span class="line"><span class="keyword">import</span> math <span class="keyword">as</span> m</span><br><span class="line">math.sqrt(<span class="number">16</span>) == m.sqrt(<span class="number">16</span>)  <span class="comment"># =&gt; True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Python 模块实质上是 Python 文件</span></span><br><span class="line"><span class="comment"># 你可以自己编写自己的模块，然后导入</span></span><br><span class="line"><span class="comment"># 模块的名称和文件名相同</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 你可以用 &quot;dir()&quot; 查看模块中定义的函数和字段</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="built_in">dir</span>(math)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 当你的脚本文件所在的文件夹也包含了一个名为 math.py 的 Python 文件</span></span><br><span class="line"><span class="comment"># 这个 math.py 文件会被代替引入，而不是引入 Python 內建模块中的 math</span></span><br><span class="line"><span class="comment"># 出现这个情况的原因是本地文件夹的引入优先级要比 Python 內建库引入优先级要高</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="类"><a href="#类" class="headerlink" title="类"></a>类</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 我们使用 &quot;class&quot; 语句来创建类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Human</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 一个类的字段。 这个字段共享给这个类的所有实例。</span></span><br><span class="line">    species = <span class="string">&quot;H. sapiens&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 构造方法，当实例被初始化时被调用。注意名字前后的双下划线，这是表明这个属性</span></span><br><span class="line">    <span class="comment"># 或方法对 Python 有特殊意义，但是允许用户自行定义。</span></span><br><span class="line">    <span class="comment"># 方法(可能是对象或者属性) 类似: __init__, __str__,__repr__ etc</span></span><br><span class="line">    <span class="comment"># 都是特殊的方法</span></span><br><span class="line">    <span class="comment"># 你自己取名时不应该用这种格式</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        <span class="comment"># 将参数赋值给实例的 name 字段</span></span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 初始化属性</span></span><br><span class="line">        self._age = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 实例方法，第一个参数总是self，也就是这个实例对象</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">say</span>(<span class="params">self, msg</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;&#123;name&#125;: &#123;message&#125;&quot;</span>.<span class="built_in">format</span>(name=self.name, message=msg))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 另一个实例方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sing</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;yo... yo... microphone check... one two... one two...&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 类方法，被所有此类的实例共用。</span></span><br><span class="line">    <span class="comment"># 第一个参数是这个类对象。</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_species</span>(<span class="params">cls</span>):</span><br><span class="line">        <span class="keyword">return</span> cls.species</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 静态方法。调用时没有实例或类的绑定。</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">grunt</span>():</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;*grunt*&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># property 有点类似 getter</span></span><br><span class="line">    <span class="comment"># 它把方法 age() 转换为同名并且只读的属性</span></span><br><span class="line">    <span class="comment"># 通常情况下，可以不需要编写复杂的 getter 和 setter。</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self._age</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 允许属性被修改</span></span><br><span class="line"><span class="meta">    @age.setter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self, age</span>):</span><br><span class="line">        self._age = age</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 允许属性被删除</span></span><br><span class="line"><span class="meta">    @age.deleter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">del</span> self._age</span><br><span class="line"></span><br><span class="line"><span class="comment"># 当 Python 解释器在读取源文件的时候，就会执行文件中所有的代码</span></span><br><span class="line"><span class="comment"># 对 __name__ 的检查可以保证这块代码只会在这个模块是主程序的情况下被运行（而不是在引用时运行）</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># </span></span><br><span class="line">    i = Human(name=<span class="string">&quot;Ian&quot;</span>)</span><br><span class="line">    i.say(<span class="string">&quot;hi&quot;</span>)                     <span class="comment"># &quot;Ian: hi&quot;</span></span><br><span class="line">    j = Human(<span class="string">&quot;Joel&quot;</span>)</span><br><span class="line">    j.say(<span class="string">&quot;hello&quot;</span>)                  <span class="comment"># &quot;Joel: hello&quot;</span></span><br><span class="line">    <span class="comment"># i 和 j 都是 Human 实例化后的对象，换一句话说，它们都是 Human 实例</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 运行类方法 (classmethod)</span></span><br><span class="line">    i.say(i.get_species())          <span class="comment"># &quot;Ian: H. sapiens&quot;</span></span><br><span class="line">    <span class="comment"># 修改共享的类属性</span></span><br><span class="line">    Human.species = <span class="string">&quot;H. neanderthalensis&quot;</span></span><br><span class="line">    i.say(i.get_species())          <span class="comment"># =&gt; &quot;Ian: H. neanderthalensis&quot;</span></span><br><span class="line">    j.say(j.get_species())          <span class="comment"># =&gt; &quot;Joel: H. neanderthalensis&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 运行静态方法 (staticmethod)</span></span><br><span class="line">    <span class="built_in">print</span>(Human.grunt())            <span class="comment"># =&gt; &quot;*grunt*&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 实例上也可以执行静态方法</span></span><br><span class="line">    <span class="built_in">print</span>(i.grunt())                <span class="comment"># =&gt; &quot;*grunt*&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 更新实例的属性</span></span><br><span class="line">    i.age = <span class="number">42</span></span><br><span class="line">    <span class="comment"># 访问实例的属性</span></span><br><span class="line">    i.say(i.age)                    <span class="comment"># =&gt; &quot;Ian: 42&quot;</span></span><br><span class="line">    j.say(j.age)                    <span class="comment"># =&gt; &quot;Joel: 0&quot;</span></span><br><span class="line">    <span class="comment"># 删除实例的属性</span></span><br><span class="line">    <span class="keyword">del</span> i.age</span><br><span class="line">    <span class="comment"># i.age                         # =&gt; 这会抛出一个错误: AttributeError</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 继承机制允许子类可以继承父类上的方法和变量。</span></span><br><span class="line"><span class="comment"># 我们可以把 Human 类作为一个基础类或者说叫做父类，</span></span><br><span class="line"><span class="comment"># 然后定义一个名为 Superhero 的子类来继承父类上的比如 &quot;species&quot;、 &quot;name&quot;、 &quot;age&quot; 的属性</span></span><br><span class="line"><span class="comment"># 和比如 &quot;sing&quot; 、&quot;grunt&quot; 这样的方法，同时，也可以定义它自己独有的属性</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 基于 Python 文件模块化的特点，你可以把这个类放在独立的文件中，比如说，human.py。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 要从别的文件导入函数，需要使用以下的语句</span></span><br><span class="line"><span class="comment"># from &quot;filename-without-extension&quot; import &quot;function-or-class&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> human <span class="keyword">import</span> Human</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定父类作为类初始化的参数</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Superhero</span>(<span class="title class_ inherited__">Human</span>):</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 如果子类需要继承所有父类的定义，并且不需要做任何的修改，</span></span><br><span class="line">    <span class="comment"># 你可以直接使用 &quot;pass&quot; 关键字（并且不需要其他任何语句）</span></span><br><span class="line">    <span class="comment"># 但是在这个例子中会被注释掉，以用来生成不一样的子类。</span></span><br><span class="line">    <span class="comment"># pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 子类可以重写父类定义的字段</span></span><br><span class="line">    species = <span class="string">&#x27;Superhuman&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 子类会自动的继承父类的构造函数包括它的参数，但同时，子类也可以新增额外的参数或者定义，</span></span><br><span class="line">    <span class="comment"># 甚至去覆盖父类的方法比如说构造函数。</span></span><br><span class="line">    <span class="comment"># 这个构造函数从父类 &quot;Human&quot; 上继承了 &quot;name&quot; 参数，同时又新增了 &quot;superpower&quot; 和</span></span><br><span class="line">    <span class="comment"># &quot;movie&quot; 参数:</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, movie=<span class="literal">False</span>,</span></span><br><span class="line"><span class="params">                 superpowers=[<span class="string">&quot;super strength&quot;</span>, <span class="string">&quot;bulletproofing&quot;</span>]</span>):</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 新增额外类的参数</span></span><br><span class="line">        self.fictional = <span class="literal">True</span></span><br><span class="line">        self.movie = movie</span><br><span class="line">        <span class="comment"># 注意可变的默认值，因为默认值是共享的</span></span><br><span class="line">        self.superpowers = superpowers</span><br><span class="line"></span><br><span class="line">        <span class="comment"># &quot;super&quot; 函数让你可以访问父类中被子类重写的方法</span></span><br><span class="line">        <span class="comment"># 在这个例子中，被重写的是 __init__ 方法</span></span><br><span class="line">        <span class="comment"># 这个语句是用来运行父类的构造函数:</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(name)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 重写父类中的 sing 方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sing</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Dun, dun, DUN!&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 新增一个额外的方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">boast</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">for</span> power <span class="keyword">in</span> self.superpowers:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;I wield the power of &#123;pow&#125;!&quot;</span>.<span class="built_in">format</span>(<span class="built_in">pow</span>=power))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    sup = Superhero(name=<span class="string">&quot;Tick&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 检查实例类型</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(sup, Human):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;I am human&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">type</span>(sup) <span class="keyword">is</span> Superhero:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;I am a superhero&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取方法解析顺序 MRO，MRO 被用于 getattr() 和 super()</span></span><br><span class="line">    <span class="comment"># 这个字段是动态的，并且可以被修改</span></span><br><span class="line">    <span class="built_in">print</span>(Superhero.__mro__)    <span class="comment"># =&gt; (&lt;class &#x27;__main__.Superhero&#x27;&gt;,</span></span><br><span class="line">                                <span class="comment"># =&gt; &lt;class &#x27;human.Human&#x27;&gt;, &lt;class &#x27;object&#x27;&gt;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 调用父类的方法并且使用子类的属性</span></span><br><span class="line">    <span class="built_in">print</span>(sup.get_species())    <span class="comment"># =&gt; Superhuman</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 调用被重写的方法</span></span><br><span class="line">    <span class="built_in">print</span>(sup.sing())           <span class="comment"># =&gt; Dun, dun, DUN!</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 调用 Human 的方法</span></span><br><span class="line">    sup.say(<span class="string">&#x27;Spoon&#x27;</span>)            <span class="comment"># =&gt; Tick: Spoon</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 调用 Superhero 独有的方法</span></span><br><span class="line">    sup.boast()                 <span class="comment"># =&gt; I wield the power of super strength!</span></span><br><span class="line">                                <span class="comment"># =&gt; I wield the power of bulletproofing!</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 继承类的字段</span></span><br><span class="line">    sup.age = <span class="number">31</span></span><br><span class="line">    <span class="built_in">print</span>(sup.age)              <span class="comment"># =&gt; 31</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Superhero 独有的字段</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Am I Oscar eligible? &#x27;</span> + <span class="built_in">str</span>(sup.movie))</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="多重继承"><a href="#多重继承" class="headerlink" title="多重继承"></a>多重继承</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 定义另一个类</span></span><br><span class="line"><span class="comment"># bat.py</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bat</span>:</span><br><span class="line"></span><br><span class="line">    species = <span class="string">&#x27;Baty&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, can_fly=<span class="literal">True</span></span>):</span><br><span class="line">        self.fly = can_fly</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 这个类同样有 say 的方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">say</span>(<span class="params">self, msg</span>):</span><br><span class="line">        msg = <span class="string">&#x27;... ... ...&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> msg</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 新增一个独有的方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sonar</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;))) ... (((&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    b = Bat()</span><br><span class="line">    <span class="built_in">print</span>(b.say(<span class="string">&#x27;hello&#x27;</span>))</span><br><span class="line">    <span class="built_in">print</span>(b.fly)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 现在我们来定义一个类来同时继承 Superhero 和 Bat</span></span><br><span class="line"><span class="comment"># superhero.py</span></span><br><span class="line"><span class="keyword">from</span> superhero <span class="keyword">import</span> Superhero</span><br><span class="line"><span class="keyword">from</span> bat <span class="keyword">import</span> Bat</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义 Batman 作为子类，来同时继承 SuperHero 和 Bat</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Batman</span>(Superhero, Bat):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, *args, **kwargs</span>):</span><br><span class="line">        <span class="comment"># 通常要继承属性，你必须调用 super:</span></span><br><span class="line">        <span class="comment"># super(Batman, self).__init__(*args, **kwargs)</span></span><br><span class="line">        <span class="comment"># 然而在这里我们处理的是多重继承，而 super() 只会返回 MRO 列表的下一个基础类。</span></span><br><span class="line">        <span class="comment"># 因此，我们需要显式调用初始类的 __init__</span></span><br><span class="line">        <span class="comment"># *args 和 **kwargs 传递参数时更加清晰整洁，而对于父类而言像是 “剥了一层洋葱”</span></span><br><span class="line">        Superhero.__init__(self, <span class="string">&#x27;anonymous&#x27;</span>, movie=<span class="literal">True</span>,</span><br><span class="line">                           superpowers=[<span class="string">&#x27;Wealthy&#x27;</span>], *args, **kwargs)</span><br><span class="line">        Bat.__init__(self, *args, can_fly=<span class="literal">False</span>, **kwargs)</span><br><span class="line">        <span class="comment"># 重写了 name 字段</span></span><br><span class="line">        self.name = <span class="string">&#x27;Sad Affleck&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sing</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;nan nan nan nan nan batman!&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    sup = Batman()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 获取方法解析顺序 MRO，MRO 被用于 getattr() 和 super()</span></span><br><span class="line">    <span class="comment"># 这个字段是动态的，并且可以被修改</span></span><br><span class="line">    <span class="built_in">print</span>(Batman.__mro__)       <span class="comment"># =&gt; (&lt;class &#x27;__main__.Batman&#x27;&gt;,</span></span><br><span class="line">                                <span class="comment"># =&gt; &lt;class &#x27;superhero.Superhero&#x27;&gt;,</span></span><br><span class="line">                                <span class="comment"># =&gt; &lt;class &#x27;human.Human&#x27;&gt;,</span></span><br><span class="line">                                <span class="comment"># =&gt; &lt;class &#x27;bat.Bat&#x27;&gt;, &lt;class &#x27;object&#x27;&gt;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 调用父类的方法并且使用子类的属性</span></span><br><span class="line">    <span class="built_in">print</span>(sup.get_species())    <span class="comment"># =&gt; Superhuman</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 调用被重写的类</span></span><br><span class="line">    <span class="built_in">print</span>(sup.sing())           <span class="comment"># =&gt; nan nan nan nan nan batman!</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 调用 Human 上的方法，(之所以是 Human 而不是 Bat)，是因为继承顺序起了作用</span></span><br><span class="line">    sup.say(<span class="string">&#x27;I agree&#x27;</span>)          <span class="comment"># =&gt; Sad Affleck: I agree</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 调用仅存在于第二个继承的父类的方法</span></span><br><span class="line">    <span class="built_in">print</span>(sup.sonar())          <span class="comment"># =&gt; ))) ... (((</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 继承类的属性</span></span><br><span class="line">    sup.age = <span class="number">100</span></span><br><span class="line">    <span class="built_in">print</span>(sup.age)              <span class="comment"># =&gt; 100</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 从第二个类上继承字段，并且其默认值被重写</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Can I fly? &#x27;</span> + <span class="built_in">str</span>(sup.fly)) <span class="comment"># =&gt; Can I fly? False</span></span><br></pre></td></tr></table></figure><h1 id="高级用法"><a href="#高级用法" class="headerlink" title="高级用法"></a>高级用法</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 用生成器(generators)方便地写惰性运算</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">double_numbers</span>(<span class="params">iterable</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> iterable:</span><br><span class="line">        <span class="keyword">yield</span> i + i</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成器只有在需要时才计算下一个值。它们每一次循环只生成一个值，而不是把所有的</span></span><br><span class="line"><span class="comment"># 值全部算好。</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># range的返回值也是一个生成器，不然一个1到900000000的列表会花很多时间和内存。</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 如果你想用一个Python的关键字当作变量名，可以加一个下划线来区分。</span></span><br><span class="line">range_ = <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">900000000</span>)</span><br><span class="line"><span class="comment"># 当找到一个 &gt;=30 的结果就会停</span></span><br><span class="line"><span class="comment"># 这意味着 `double_numbers` 不会生成大于30的数。</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> double_numbers(range_):</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">    <span class="keyword">if</span> i &gt;= <span class="number">30</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="comment"># 你也可以把一个生成器推导直接转换为列表</span></span><br><span class="line">values = (-x <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">gen_to_list = <span class="built_in">list</span>(values)</span><br><span class="line"><span class="built_in">print</span>(gen_to_list)  <span class="comment"># =&gt; [-1, -2, -3, -4, -5]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 装饰器(decorators)</span></span><br><span class="line"><span class="comment"># 这个例子中，beg装饰say</span></span><br><span class="line"><span class="comment"># beg会先调用say。如果返回的say_please为真，beg会改变返回的字符串。</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">beg</span>(<span class="params">target_function</span>):</span><br><span class="line"><span class="meta">    @wraps(<span class="params">target_function</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">        msg, say_please = target_function(*args, **kwargs)</span><br><span class="line">        <span class="keyword">if</span> say_please:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>.<span class="built_in">format</span>(msg, <span class="string">&quot;Please! I am poor :(&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> msg</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@beg</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">say</span>(<span class="params">say_please=<span class="literal">False</span></span>):</span><br><span class="line">    msg = <span class="string">&quot;Can you buy me a beer?&quot;</span></span><br><span class="line">    <span class="keyword">return</span> msg, say_please</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(say())  <span class="comment"># Can you buy me a beer?</span></span><br><span class="line"><span class="built_in">print</span>(say(say_please=<span class="literal">True</span>))  <span class="comment"># Can you buy me a beer? Please! I am poor :(</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>conda的小tips</title>
      <link href="/2023/12/04/conda%E7%9A%84%E5%B0%8Ftips/"/>
      <url>/2023/12/04/conda%E7%9A%84%E5%B0%8Ftips/</url>
      
        <content type="html"><![CDATA[<p>conda:</p><p>​    <code>conda env list</code></p><p>查看当前已创建的虚拟环境</p><p>​    <code>conda activate --名--</code></p><p>切换虚拟环境</p><p>​    <code>conda list</code></p><p>查看当前环境包含的包/库</p><p>​    <code>conda create -n --名-- python=3.9 (-c --镜像地址--)</code></p><p>创建新虚拟环境</p><p>​    <code>conda remove -n --名--  --all</code></p><p>删除虚拟环境及其包</p><p>​    <code>conda config --get</code></p><p>查看配置文件中有哪些通道（镜像）</p><p>​    <code>conda config --add/remove channels --通道地址--</code></p><p>添加/删除通道</p><p>(lstmStock) C:\Users\Administrator&gt;</p><p>​    <code>conda install pytorch torchvision torchaudio pytorch-cuda=11.8 -c pytorch -c nvidia</code></p><p>pytorch安装</p><p>国内源下载</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django -i https://pypi.tuna.tsinghua.edu.cn/simple</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络</title>
      <link href="/2022/09/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
      <url>/2022/09/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h1 id="概念，组成，功能，分类"><a href="#概念，组成，功能，分类" class="headerlink" title="概念，组成，功能，分类"></a>概念，组成，功能，分类</h1><h2 id="计算机网络的功能"><a href="#计算机网络的功能" class="headerlink" title="计算机网络的功能"></a>计算机网络的功能</h2><p><img src="/img/计网1.png" alt>  </p><h2 id="计算机网络的组成"><a href="#计算机网络的组成" class="headerlink" title="计算机网络的组成"></a>计算机网络的组成</h2><p>组成部分<br><img src="/img/计网2.png" alt>  </p><p>工作方式<br><img src="/img/计网3.png" alt>  </p><p>功能组成<br><img src="/img/计网4.png" alt></p><h2 id="计算机网络的分类"><a href="#计算机网络的分类" class="headerlink" title="计算机网络的分类"></a>计算机网络的分类</h2><ol><li>按分布范围分<br>广域网WAN 城域网MAN 局域网WAN 个人区域网PAN</li><li>按使用者分<br>公用网（中国电信）  专用网</li><li>按交换技术分<br>电路交换 报文交换 分组交换  </li><li>按拓扑结构分<br><img src="/img/计网5.png" alt>  </li><li>按传输技术分<br>广播式网络： 共享公共通信信道<br>点对点网络： 使用分组存储转发和路由选择啊机制<h1 id="标准化工作及相关组织"><a href="#标准化工作及相关组织" class="headerlink" title="标准化工作及相关组织"></a>标准化工作及相关组织</h1><h2 id="标准化工作"><a href="#标准化工作" class="headerlink" title="标准化工作"></a>标准化工作</h2><img src="/img/计网6.png" alt>  </li></ol><p>RFC<br><img src="/img/计网7.png" alt><br>注：草案标准（Draft Standard）于2011年起取消  </p><h2 id="标准化工作的相关组织"><a href="#标准化工作的相关组织" class="headerlink" title="标准化工作的相关组织"></a>标准化工作的相关组织</h2><p><img src="/img/计网8.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> 阅读心得 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>文章</title>
      <link href="/2022/05/10/%E6%96%87%E7%AB%A0/"/>
      <url>/2022/05/10/%E6%96%87%E7%AB%A0/</url>
      
        <content type="html"><![CDATA[<hr><p>l</p><p>路漫漫其修远兮，吾将上下而求索</p><p>Where there is a will, there is a way</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>HTTP</title>
      <link href="/2022/05/10/HTTP/"/>
      <url>/2022/05/10/HTTP/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h1 id="概念特点"><a href="#概念特点" class="headerlink" title="概念特点"></a>概念特点</h1><p><img src="/img/http1.png" alt>  </p><h1 id="HTTP请求数据格式"><a href="#HTTP请求数据格式" class="headerlink" title="HTTP请求数据格式"></a>HTTP请求数据格式</h1><p><img src="/img/http2.png" alt>  </p><h2 id="常见的HTTP请求头"><a href="#常见的HTTP请求头" class="headerlink" title="常见的HTTP请求头"></a>常见的HTTP请求头</h2><p><img src="/img/http3.png" alt>  </p><h2 id="请求体"><a href="#请求体" class="headerlink" title="请求体"></a>请求体</h2><p><img src="/img/http4.png" alt>  </p><h1 id="HTTP响应数据格式"><a href="#HTTP响应数据格式" class="headerlink" title="HTTP响应数据格式"></a>HTTP响应数据格式</h1><p><img src="/img/http5.png" alt>  </p><h2 id="常见的HTTP响应头"><a href="#常见的HTTP响应头" class="headerlink" title="常见的HTTP响应头"></a>常见的HTTP响应头</h2><p><img src="/img/http6.png" alt>  </p><h1 id="状态码"><a href="#状态码" class="headerlink" title="状态码"></a>状态码</h1><p><a href="https://www.runoob.com/http/http-status-codes.html">HTTP常见状态码</a>  </p>]]></content>
      
      
      <categories>
          
          <category> HTTP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Servlet</title>
      <link href="/2022/05/10/Servlet/"/>
      <url>/2022/05/10/Servlet/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h1 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h1><p><img src="/img/servlet1.png" alt></p><h1 id="Servlet生命周期"><a href="#Servlet生命周期" class="headerlink" title="Servlet生命周期"></a>Servlet生命周期</h1><p><img src="/img/servlet2.png" alt>  </p><h1 id="HTTPServlet使用步骤及原理"><a href="#HTTPServlet使用步骤及原理" class="headerlink" title="HTTPServlet使用步骤及原理"></a>HTTPServlet使用步骤及原理</h1><p><img src="/img/servlet3.png" alt>  </p><h1 id="urlPattern配置"><a href="#urlPattern配置" class="headerlink" title="urlPattern配置"></a>urlPattern配置</h1><p><img src="/img/servlet4.png" alt>  </p><h2 id="Servlet-urlPattern配置规则"><a href="#Servlet-urlPattern配置规则" class="headerlink" title="Servlet urlPattern配置规则"></a>Servlet urlPattern配置规则</h2><p><img src="/img/servlet5.png" alt><br>当配置规则同时满足精确匹配和目录匹配时，会优先使用精确匹配  </p><h1 id="XML配置Servlet"><a href="#XML配置Servlet" class="headerlink" title="XML配置Servlet"></a>XML配置Servlet</h1>]]></content>
      
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
            <tag> Servlet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tomcat</title>
      <link href="/2022/05/10/Tomcat/"/>
      <url>/2022/05/10/Tomcat/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h1 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h1><p><img src="/img/tomcat1.png" alt></p><h2 id="安装配置"><a href="#安装配置" class="headerlink" title="安装配置"></a>安装配置</h2><p>在<a href="https://tomcat.apache.org/">Tomcat官网</a>下载对应的压缩包<br>解压到文件夹中（注意路径不要有中文）<br>访问：localhost:8080若进入Tomcat的官网，则安装成功<br>默认端口为8080，若被占用则<a href="https://blog.csdn.net/qq_40180411/article/details/82112344?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1-82112344-blog-52870760.pc_relevant_default&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1-82112344-blog-52870760.pc_relevant_default&amp;utm_relevant_index=2">修改tomcat默认端口号</a>  </p><h2 id="部署项目"><a href="#部署项目" class="headerlink" title="部署项目"></a>部署项目</h2><p>1.直接复制文件到apache-tomcat-8.5.68\webapps中<br>2.把文件压缩成.war的形式，复制到apache-tomcat-8.5.68\webapps中，Tomcat会自动解压部署  </p><h1 id="MavenWeb项目"><a href="#MavenWeb项目" class="headerlink" title="MavenWeb项目"></a>MavenWeb项目</h1><h2 id="创建MavenWeb项目"><a href="#创建MavenWeb项目" class="headerlink" title="创建MavenWeb项目"></a>创建MavenWeb项目</h2><h3 id="使用骨架（archetype）"><a href="#使用骨架（archetype）" class="headerlink" title="使用骨架（archetype）"></a>使用骨架（archetype）</h3><p>创建Maven项目 勾选 <font color="#FF6699">Create from archetype </font>选择maven-archetype-webapp<br>在pom.xml中添加配置信息：设置打包方式为war<br>在main中创建java和resources目录<br>标准web项目如图<br><img src="/img/tomcat2.png" alt>  </p><h3 id="不使用骨架（idea终极版）"><a href="#不使用骨架（idea终极版）" class="headerlink" title="不使用骨架（idea终极版）"></a>不使用骨架（idea终极版）</h3><p>不勾选<font color="#FF6699">Create from archetype </font>创建项目<br>在pom.xml中添加配置信息：设置打包方式为war<br><a href="https://blog.csdn.net/fengltxx/article/details/82999580?spm=1001.2101.3001.6661.1&amp;utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1-82999580-blog-104561206.pc_relevant_aa&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1-82999580-blog-104561206.pc_relevant_aa&amp;utm_relevant_index=1">参考</a>  </p><h1 id="idea集成本地Tomcat"><a href="#idea集成本地Tomcat" class="headerlink" title="idea集成本地Tomcat"></a>idea集成本地Tomcat</h1><p>在idea主页点击Add Configuration—加号—Tomcat Server—local<br>在Tomcat Server中配置Application server为Tomcat安装目录<br>在Deployment中更改项目的访问的路径<br>回到主页点run就开始部署  </p><h1 id="Tomcat的Maven插件"><a href="#Tomcat的Maven插件" class="headerlink" title="Tomcat的Maven插件"></a>Tomcat的Maven插件</h1><p>在pom.xml中导入tomcat插件<br>可以用<configuration>标签改端口号和访问路径</configuration></p>]]></content>
      
      
      <categories>
          
          <category> Tomcat </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
            <tag> Tomcat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git</title>
      <link href="/2022/05/10/git/"/>
      <url>/2022/05/10/git/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h1 id="git常用指令"><a href="#git常用指令" class="headerlink" title="git常用指令"></a>git常用指令</h1><h2 id="git基础操作指令"><a href="#git基础操作指令" class="headerlink" title="git基础操作指令"></a>git基础操作指令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git init 创建仓库  </span><br><span class="line">git add 将所有修改加入到暂存区  </span><br><span class="line">git commit -m &quot;注释内容&quot; 提交暂存区内容到本地仓库的当前分支  </span><br><span class="line">git status 查看修改的状态  </span><br><span class="line">git log 查看提交日志  </span><br></pre></td></tr></table></figure><h2 id="版本回退"><a href="#版本回退" class="headerlink" title="版本回退"></a>版本回退</h2><pre><code>git reset --hard commitID</code></pre><p>commitID可以使用git log查看<br>如何查看已经删除的记录<br>git reflog  </p><h2 id="添加文件到忽略列表"><a href="#添加文件到忽略列表" class="headerlink" title="添加文件到忽略列表"></a>添加文件到忽略列表</h2><p>可以创建一个.gitignore文件，列出要忽略的文件模式<br><img src="/img/git1.png" alt>  </p><h1 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h1><p><img src="/img/git2.png" alt>  </p>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++面向对象</title>
      <link href="/2022/05/10/c++/"/>
      <url>/2022/05/10/c++/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h1 id="友元"><a href="#友元" class="headerlink" title="友元"></a>友元</h1><p>友元可以访问类内所有成员<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">void func();</span><br><span class="line">class A&#123;</span><br><span class="line">friend void func();</span><br><span class="line">&#125;;</span><br><span class="line">```  </span><br><span class="line"># 继承</span><br><span class="line">派生类不能继承：析构函数，基类的友元函数，静态数据成员，静态成员函数  </span><br><span class="line">private：只能本类访问  </span><br><span class="line">protected：可以本类，派生类访问  </span><br><span class="line">public：可以本类，派生类，类外访问  </span><br></pre></td></tr></table></figure><br>class Animal;<br>class Cat;<br>class Cat:protected Animal{<br>};<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">c++的继承方式可分为公有继，保护继承和私有继承  </span><br><span class="line">c++默认继承方式位private继承  </span><br><span class="line">public继承  </span><br><span class="line">基类的访问权限在派生类中保持不变  </span><br><span class="line">private继承  </span><br><span class="line">基类的private成员在派生类中仍是private成员，但基类的protected和public成员在派生类中会变成private成员  </span><br><span class="line">protected继承  </span><br><span class="line">基类中的public成员在派生类中修改为protected成员，protected和private成员保持不变  </span><br><span class="line">## 阻止继承</span><br></pre></td></tr></table></figure><br>class Cat final{<br>};<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">可以用final关键字阻止该类被继承</span><br><span class="line">## 重载重定义</span><br><span class="line">重载：要求函数具有不同的函数原型  </span><br><span class="line">重定义（重写or覆盖）：指派生类可以定义与基类具有相同函数原型的成员函数  </span><br><span class="line">## 派生类修改基类成员的访问权限</span><br><span class="line">如  </span><br></pre></td></tr></table></figure><br>class Animal{<br>    protected:<br>    void jump() {<br>        cout &lt;&lt; “跳” &lt;&lt; endl;<br>    }<br>};<br>class Cat:protected Animal{<br>    public:<br>        using Animal::jump;//修改jump权限为public<br>}<br>```  </p><p><font color="#FF66CC">private成员永远只能被它内部的成员访问</font><br>因此不允许派生类使用using改变private成员的访问权限<br>注：由于继承导致的权限变化不算入其中  </p>]]></content>
      
      
      <categories>
          
          <category> c++ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Mybatis学习(持续更新中)</title>
      <link href="/2022/05/10/mybatis/"/>
      <url>/2022/05/10/mybatis/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><p>mapper.xml文件</p><h2 id="执行流程"><a href="#执行流程" class="headerlink" title="执行流程"></a>执行流程</h2><p>1.加载mybatis的核心配置文件，获取SqlSessionFactory<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String resource = &quot;mybatis-config.xml&quot;;</span><br><span class="line">   InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">   SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);</span><br></pre></td></tr></table></figure><br>2.获取SqlSession对象<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SqlSession sqlSession = sqlSessionFactory.openSession();</span><br></pre></td></tr></table></figure><br>3.执行sql,返回user列表<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;User&gt; users = sqlSession.selectList(&quot;demo.mapper.UserMapper.selectAll&quot;);</span><br></pre></td></tr></table></figure><br>4.释放资源</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlSession.close();</span><br></pre></td></tr></table></figure><h2 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--  </span><br><span class="line">           id:完成主键字段的映射  </span><br><span class="line">               column：表的列名</span><br><span class="line">                property：实体类的属性名</span><br><span class="line">           result：完成一般字段的映射</span><br><span class="line">                column：表的列名</span><br><span class="line">                property：实体类的属性名</span><br><span class="line">    --&gt;</span><br><span class="line"></span><br><span class="line">&lt;resultMap id=&quot;brandResultMap&quot; type=&quot;brand&quot;&gt;  </span><br><span class="line">        &lt;result column=&quot;brand_name&quot; property=&quot;brandName&quot;/&gt;</span><br><span class="line">        &lt;result column=&quot;company_name&quot; property=&quot;companyName&quot;/&gt;  </span><br><span class="line">&lt;/resultMap&gt;</span><br></pre></td></tr></table></figure><h3 id="查询所有"><a href="#查询所有" class="headerlink" title="查询所有"></a>查询所有</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;selectAll&quot; resultMap=&quot;brandResultMap&quot;&gt;</span><br><span class="line">        select *</span><br><span class="line">        from tb_brand;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Brand&gt; selectAll();</span><br></pre></td></tr></table></figure><h3 id="查询详情"><a href="#查询详情" class="headerlink" title="查询详情"></a>查询详情</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;selectById&quot; resultType=&quot;User&quot;&gt;</span><br><span class="line">        select * from tb_user where id = #&#123;id&#125;;</span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User selectById();</span><br></pre></td></tr></table></figure><h3 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h3><p><img src="/img/mybatis1.png" alt="123"><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;selectByCondition&quot; resultMap=&quot;brandResultMap&quot;&gt;</span><br><span class="line">       select * from  tb_brand</span><br><span class="line">       where</span><br><span class="line">           status = #&#123;status&#125;</span><br><span class="line">           and company_name like #&#123;companyName&#125; &lt;!--模糊查询--&gt;</span><br><span class="line">           and brand_name like #&#123;brandName&#125; &lt;!--模糊查询--&gt;</span><br><span class="line">   &lt;/select&gt;</span><br></pre></td></tr></table></figure><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//@Param意思是将status的值传递给‘status’的占位符</span><br><span class="line">  List&lt;Brand&gt; selectByCondition(@Param(&quot;status&quot;)int status,@Param(&quot;companyName&quot;)String companyName,@Param(&quot;brandName&quot;)String brandName);</span><br><span class="line">  //把参数封装成brand，selectByCondition将自动调用getStatus...用于查询</span><br><span class="line">  List&lt;Brand&gt; selectByCondition(Brand brand);</span><br></pre></td></tr></table></figure></p><h3 id="动态条件查询"><a href="#动态条件查询" class="headerlink" title="动态条件查询"></a>动态条件查询</h3><p>if:  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=&quot;selectByCondition&quot; resultMap=&quot;brandResultMap&quot;&gt;</span><br><span class="line">           select * from  tb_brand</span><br><span class="line">           where</span><br><span class="line">               &lt;if test=&quot;status != null&quot;&gt;</span><br><span class="line">                   status = #&#123;status&#125;</span><br><span class="line">               &lt;/if&gt;</span><br><span class="line">               &lt;if test=&quot;companyName != null and companyName != &#x27;&#x27; &quot;&gt;</span><br><span class="line">                   and company_name like #&#123;companyName&#125; &lt;!--模糊查询--&gt;</span><br><span class="line">               &lt;/if&gt;</span><br><span class="line">               &lt;if test=&quot;brandName ! = null and brandName ! = &#x27;&#x27; &quot;&gt;</span><br><span class="line">                   and brand_name like #&#123;brandName&#125; &lt;!--模糊查询--&gt;</span><br><span class="line">               &lt;/if&gt;</span><br><span class="line">       &lt;/select&gt;</span><br></pre></td></tr></table></figure><h5 id="问题：若第一个if不成立"><a href="#问题：若第一个if不成立" class="headerlink" title="问题：若第一个if不成立"></a>问题：若第一个if不成立</h5><p><img src="/img/mybatis2.png" alt></p><h5 id="解决："><a href="#解决：" class="headerlink" title="解决："></a>解决：</h5><p><img src="/img/mybatis3.png" alt></p><h5 id="改进："><a href="#改进：" class="headerlink" title="改进："></a>改进：</h5><p>使用<where></where><br><img src="/img/mybatis4.png" alt><br>自动生成<br><img src="/img/mybatis5.png" alt>  </p><h3 id="动态单条件查询"><a href="#动态单条件查询" class="headerlink" title="动态单条件查询"></a>动态单条件查询</h3><p><img src="/img/mybatis6.png" alt></p><h2 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h2><p><img src="/img/mybatis7.png" alt><br>或者可以手动commit<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlSession.commit();</span><br></pre></td></tr></table></figure></p><h3 id="主键返回"><a href="#主键返回" class="headerlink" title="主键返回"></a>主键返回</h3><p><img src="/img/mybatis8.png" alt><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;insert useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt;</span><br></pre></td></tr></table></figure></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brandMapper.add(brand);</span><br><span class="line">Integer id = brand.getId();</span><br><span class="line">System.out.println(id);</span><br></pre></td></tr></table></figure><h2 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h2><h3 id="修改全部字段"><a href="#修改全部字段" class="headerlink" title="修改全部字段"></a>修改全部字段</h3><p><img src="/img/mybatis9.png" alt>  </p><h3 id="修改部分字段"><a href="#修改部分字段" class="headerlink" title="修改部分字段"></a>修改部分字段</h3><p><img src="/img/mybatis10.png" alt>  </p><h2 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h2><h3 id="删除一个"><a href="#删除一个" class="headerlink" title="删除一个"></a>删除一个</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void deleteByid(int id);</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;delete id=&quot;deleteByid&quot;&gt;</span><br><span class="line">   delete from tb_brand where id = #&#123;id&#125;;</span><br><span class="line">&lt;/delete&gt;</span><br></pre></td></tr></table></figure><h3 id="删除多个"><a href="#删除多个" class="headerlink" title="删除多个"></a>删除多个</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line">    mybatis默认会将数组参数，封装成一个map集合</span><br><span class="line">        *默认：array（key） = 数组（value）</span><br><span class="line">        *使用@Param注解改变map集合的默认key名称</span><br><span class="line">--&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void deleteByids(@Param(&quot;ids&quot;) int[] ids);</span><br></pre></td></tr></table></figure><pre><code>&lt;delete id=&quot;deleteByids&quot;&gt;   delete from tb_brand where id           &lt;!--分隔符--&gt;   in  &lt;foreach collection=&quot;ids&quot; item=&quot;id&quot; separator=&quot;,&quot; open=&quot;(&quot; close=&quot;)&quot;&gt;           #&#123;id&#125;       &lt;/foreach&gt;       ;&lt;/delete&gt;</code></pre><h2 id="注解开发"><a href="#注解开发" class="headerlink" title="注解开发"></a>注解开发</h2><p>第一种：方法有多个参数，需要 @Param 注解<br>第二种：方法参数要取别名，需要 @Param 注解<br>第三种：XML 中的 SQL 使用了 $ ，那么参数中也需要 @Param 注解<br>第四种，那就是动态 SQL ，如果在动态 SQL 中使用了参数作为变量，那么也需要 @Param 注解，即使你只有一个参数。<br><a href="https://www.cnblogs.com/lenve/p/11229590.html">@Param参考</a><br><a href="https://blog.csdn.net/u012702547/article/details/55105400">动态sql参考</a></p>]]></content>
      
      
      <categories>
          
          <category> MyBatis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
            <tag> MyBatis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计组学习</title>
      <link href="/2022/05/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/"/>
      <url>/2022/05/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<span id="more"></span>  <h1 id="计算机系统的层次结构"><a href="#计算机系统的层次结构" class="headerlink" title="计算机系统的层次结构"></a>计算机系统的层次结构</h1><p><img src="/img/计组1.png" alt><br><img src="/img/计组2.png" alt>   </p><h1 id="计算机的性能指标"><a href="#计算机的性能指标" class="headerlink" title="计算机的性能指标"></a>计算机的性能指标</h1><h2 id="存储器的性能指标"><a href="#存储器的性能指标" class="headerlink" title="存储器的性能指标"></a>存储器的性能指标</h2><p><img src="/img/计组3.png" alt>   </p><h2 id="CPU的性能指标"><a href="#CPU的性能指标" class="headerlink" title="CPU的性能指标"></a>CPU的性能指标</h2><p><img src="/img/计组4.png" alt><br><a href="https://blog.csdn.net/qq_29339467/article/details/104488125">计算机系统性能评价</a><br>MIPS = f/CPI  </p><h2 id="系统整体的性能指标"><a href="#系统整体的性能指标" class="headerlink" title="系统整体的性能指标"></a>系统整体的性能指标</h2><p><img src="/img/计组5.png" alt><br><img src="/img/计组6.png" alt>   </p><h1 id="各种字长"><a href="#各种字长" class="headerlink" title="各种字长"></a>各种字长</h1><p><a href="https://bbs.huaweicloud.com/forum/thread-143361-1-1.html">机器字长、指令字长、存储字长</a></p><h1 id="进位计数制"><a href="#进位计数制" class="headerlink" title="进位计数制"></a>进位计数制</h1><h2 id="任意进制-gt-十进制"><a href="#任意进制-gt-十进制" class="headerlink" title="任意进制-&gt;十进制"></a>任意进制-&gt;十进制</h2><p><img src="/img/计组7.png" alt> </p><h2 id="二进制-lt-—-gt-十进制"><a href="#二进制-lt-—-gt-十进制" class="headerlink" title="二进制&lt;—&gt;十进制"></a>二进制&lt;—&gt;十进制</h2><p><img src="/img/计组8.png" alt>   </p><h2 id="十进制-gt-任意进制（75-3）"><a href="#十进制-gt-任意进制（75-3）" class="headerlink" title="十进制-&gt;任意进制（75.3）"></a>十进制-&gt;任意进制（75.3）</h2><p>整数部分<br><img src="/img/计组9.png" alt><br>小数部分<br><img src="/img/计组10.png" alt>   </p><h2 id="真值和机器数"><a href="#真值和机器数" class="headerlink" title="真值和机器数"></a>真值和机器数</h2><p><img src="/img/计组11.png" alt> </p><h1 id="BCD码"><a href="#BCD码" class="headerlink" title="BCD码"></a>BCD码</h1><h2 id="8421码-有权"><a href="#8421码-有权" class="headerlink" title="8421码(有权)"></a>8421码(有权)</h2><p><img src="/img/计组12.png" alt>  </p><h2 id="余3码-有权-和2421码-无权"><a href="#余3码-有权-和2421码-无权" class="headerlink" title="余3码(有权)和2421码(无权)"></a>余3码(有权)和2421码(无权)</h2><p><img src="/img/计组13.png" alt>  </p><h1 id="字符与字符串"><a href="#字符与字符串" class="headerlink" title="字符与字符串"></a>字符与字符串</h1><h2 id="ASCII码"><a href="#ASCII码" class="headerlink" title="ASCII码"></a>ASCII码</h2><p><img src="/img/计组14.png" alt><br>数字，字母若以8421码表示则<br>数字48（0011 0000）刚好为0，57（0011 1001）刚好为9，字母同理  </p><h2 id="汉字的表示和编码"><a href="#汉字的表示和编码" class="headerlink" title="汉字的表示和编码"></a>汉字的表示和编码</h2><p><img src="/img/计组15.png" alt>  </p><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><h3 id="英文字符串"><a href="#英文字符串" class="headerlink" title="英文字符串"></a>英文字符串</h3><p><img src="/img/计组16.png" alt>  </p><h3 id="带中文字符串"><a href="#带中文字符串" class="headerlink" title="带中文字符串"></a>带中文字符串</h3><p><img src="/img/计组17.png" alt>  </p><h1 id="奇偶校验码"><a href="#奇偶校验码" class="headerlink" title="奇偶校验码"></a>奇偶校验码</h1><h2 id="码字，码距"><a href="#码字，码距" class="headerlink" title="码字，码距"></a>码字，码距</h2><p>由若干位代码组成的一个字叫<font color="#FF0066">码字</font><br>将两个码字逐位进行对比，具有不同位的个数称为<font color="#FF0066">两个码字间的距离</font><br>一种编码方案可能有若干个合法码字，各合法码字间的最小距离称为<font color="#FF0066">码距</font><br>设码距为d<br>当d=1时，无检错能力；当d=2时，有检错能力；当d=3时，若设计合理，可能具有检错，纠错能力  </p><h2 id="奇偶校验码-1"><a href="#奇偶校验码-1" class="headerlink" title="奇偶校验码"></a>奇偶校验码</h2><p><img src="/img/计组18.png" alt><br>奇偶校验校验失败情况：<br>若接收到的数据有偶数位发生变化，则校验会失败  </p><p><font color="#FF0066">为什么奇偶校验码的码距为2？</font><br>因为 对于奇校验码来说，任意两个校验码之间，如果想不同，最少变换两个位置的码元才可以完成。<br>例如对于10011来说，如果我任意反转一个码元，1的个数肯定为偶数个，所以我至少反转两个才可以是另一个奇校验码，而反转的这个数字个数就是奇校验码的码距。  </p><h1 id="海明码"><a href="#海明码" class="headerlink" title="海明码"></a>海明码</h1><p>奇偶校验码的局限性：<br>能发现奇数位错误，但无法确定是哪一位出错  </p><h2 id="海明码校验思路"><a href="#海明码校验思路" class="headerlink" title="海明码校验思路"></a>海明码校验思路</h2><p><img src="/img/计组19.png" alt>  </p><h2 id="海明码求解步骤"><a href="#海明码求解步骤" class="headerlink" title="海明码求解步骤"></a>海明码求解步骤</h2><h3 id="确定海明码的位数"><a href="#确定海明码的位数" class="headerlink" title="确定海明码的位数"></a>确定海明码的位数</h3><p><img src="/img/计组20.png" alt>  </p><h3 id="确定校验位的分布"><a href="#确定校验位的分布" class="headerlink" title="确定校验位的分布"></a>确定校验位的分布</h3><p><img src="/img/计组21.png" alt>  </p><h3 id="求校验位的值"><a href="#求校验位的值" class="headerlink" title="求校验位的值"></a>求校验位的值</h3><p><img src="/img/计组22.png" alt>  </p><h3 id="纠错"><a href="#纠错" class="headerlink" title="纠错"></a>纠错</h3><p><img src="/img/计组23.png" alt>  </p><h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><p><img src="/img/计组24.png" alt><br><!--# 循环冗余校验码  ![](/img/计组25.png)-->  </p><h1 id="定点数"><a href="#定点数" class="headerlink" title="定点数"></a>定点数</h1><h2 id="定点数与浮点数"><a href="#定点数与浮点数" class="headerlink" title="定点数与浮点数"></a>定点数与浮点数</h2><p><img src="/img/计组26.png" alt>  </p><h2 id="无符号数"><a href="#无符号数" class="headerlink" title="无符号数"></a>无符号数</h2><p><img src="/img/计组27.png" alt>  </p><h2 id="有符号数的定点表示"><a href="#有符号数的定点表示" class="headerlink" title="有符号数的定点表示"></a>有符号数的定点表示</h2><p><img src="/img/计组28.png" alt>  </p><h2 id="原码"><a href="#原码" class="headerlink" title="原码"></a>原码</h2><p><img src="/img/计组29.png" alt> </p><h3 id="表示范围"><a href="#表示范围" class="headerlink" title="表示范围"></a>表示范围</h3><p><img src="/img/计组30.png" alt>  </p><h2 id="反码"><a href="#反码" class="headerlink" title="反码"></a>反码</h2><p>反码： 若符号位为0，则反码与原码相同<br>      若符号位为1，则数值为全部取反  </p><h3 id="表示范围-1"><a href="#表示范围-1" class="headerlink" title="表示范围"></a>表示范围</h3><p><img src="/img/计组31.png" alt>  </p><h2 id="补码"><a href="#补码" class="headerlink" title="补码"></a>补码</h2><p>补码： 正数的补码=原码<br>      负数的补码=反码末位+1  </p><h3 id="表示范围-2"><a href="#表示范围-2" class="headerlink" title="表示范围"></a>表示范围</h3><p><img src="/img/计组32.png" alt>  </p><h2 id="移码"><a href="#移码" class="headerlink" title="移码"></a>移码</h2><p>移码： 补码的基础上将符号位取反。  </p><p><font color="#FF0066">注意：移码只能用于表示整数</font>  </p><h3 id="表示范围-3"><a href="#表示范围-3" class="headerlink" title="表示范围"></a>表示范围</h3><p><img src="/img/计组33.png" alt>  </p><h1 id="原码补码移码的作用"><a href="#原码补码移码的作用" class="headerlink" title="原码补码移码的作用"></a>原码补码移码的作用</h1><h2 id="原码补码实现加减运算"><a href="#原码补码实现加减运算" class="headerlink" title="原码补码实现加减运算"></a>原码补码实现加减运算</h2><p>补码的作用：使用补码可将减法操作转变位等价的加法，ALU中无需集成减法器。<br>           执行加法操作时，符号位一起参与运算<br><img src="/img/计组34.png" alt><br>问题<br>当(-100)+(-100)时如何判断溢出？  </p><h2 id="移码表示的整数很方便对比大小"><a href="#移码表示的整数很方便对比大小" class="headerlink" title="移码表示的整数很方便对比大小"></a>移码表示的整数很方便对比大小</h2><p><img src="/img/计组35.png" alt>  </p><h1 id="移位运算"><a href="#移位运算" class="headerlink" title="移位运算"></a>移位运算</h1><p><img src="/img/计组36.png" alt>  </p><h2 id="算术移位"><a href="#算术移位" class="headerlink" title="算术移位"></a>算术移位</h2><h3 id="原码的算术移位"><a href="#原码的算术移位" class="headerlink" title="原码的算术移位"></a>原码的算术移位</h3><p>符号位保持不变，仅对数值位进行移位（小数同理）<br><img src="/img/计组37.png" alt>  </p><h3 id="反码的算术移位"><a href="#反码的算术移位" class="headerlink" title="反码的算术移位"></a>反码的算术移位</h3><p><img src="/img/计组38.png" alt>  </p><h3 id="补码的算术移位"><a href="#补码的算术移位" class="headerlink" title="补码的算术移位"></a>补码的算术移位</h3><p><img src="/img/计组39.png" alt>  </p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p><img src="/img/计组40.png" alt>  </p><h2 id="逻辑移位"><a href="#逻辑移位" class="headerlink" title="逻辑移位"></a>逻辑移位</h2><p><img src="/img/计组41.png" alt>  </p><h2 id="循环移位"><a href="#循环移位" class="headerlink" title="循环移位"></a>循环移位</h2><p><img src="/img/计组42.png" alt><br><img src="/img/计组43.png" alt>  </p><h1 id="加减运算和溢出判断"><a href="#加减运算和溢出判断" class="headerlink" title="加减运算和溢出判断"></a>加减运算和溢出判断</h1><h2 id="原码的加减运算"><a href="#原码的加减运算" class="headerlink" title="原码的加减运算"></a>原码的加减运算</h2><p><img src="/img/计组44.png" alt>  </p><h2 id="补码的加减运算"><a href="#补码的加减运算" class="headerlink" title="补码的加减运算"></a>补码的加减运算</h2><p>[A+B]补 = A补 + B补<br>[A-B]补 = A补 + [-B]补  </p><h2 id="溢出判断"><a href="#溢出判断" class="headerlink" title="溢出判断"></a>溢出判断</h2><p><img src="/img/计组45.png" alt>  </p><h3 id="方法一：采用一位符号位"><a href="#方法一：采用一位符号位" class="headerlink" title="方法一：采用一位符号位"></a>方法一：采用一位符号位</h3><p><img src="/img/计组46.png" alt>  </p><h3 id="方法二：根据数据位进位情况"><a href="#方法二：根据数据位进位情况" class="headerlink" title="方法二：根据数据位进位情况"></a>方法二：根据数据位进位情况</h3><p><img src="/img/计组47.png" alt>  </p><h3 id="方法三：采用二位符号位"><a href="#方法三：采用二位符号位" class="headerlink" title="方法三：采用二位符号位"></a>方法三：采用二位符号位</h3><p><img src="/img/计组48.png" alt><br>双符号位补码又称：模4补码<br>单符号位补码又称：模2补码  </p><p><font color="#FF0066">注：双符号位不会增加存储的空间，实际存储只存储1个符号位</font>  </p><h2 id="解决溢出"><a href="#解决溢出" class="headerlink" title="解决溢出"></a>解决溢出</h2><p>符号扩展<br><img src="/img/计组49.png" alt>  </p><h1 id="乘法运算"><a href="#乘法运算" class="headerlink" title="乘法运算"></a>乘法运算</h1><h2 id="原码一位乘法"><a href="#原码一位乘法" class="headerlink" title="原码一位乘法"></a>原码一位乘法</h2><p><img src="/img/计组50.png" alt>  </p><h2 id="补码一位乘法"><a href="#补码一位乘法" class="headerlink" title="补码一位乘法"></a>补码一位乘法</h2><p><img src="/img/计组51.png" alt><br><img src="/img/计组80.png" alt></p><h1 id="除法运算"><a href="#除法运算" class="headerlink" title="除法运算"></a>除法运算</h1><h2 id="原码除法"><a href="#原码除法" class="headerlink" title="原码除法"></a>原码除法</h2><p><img src="/img/计组52.png" alt>  </p><h2 id="补码除法"><a href="#补码除法" class="headerlink" title="补码除法"></a>补码除法</h2><h1 id="强制类型转换"><a href="#强制类型转换" class="headerlink" title="强制类型转换"></a>强制类型转换</h1><p><img src="/img/计组53.png" alt>  </p><h1 id="数据的存储和排列"><a href="#数据的存储和排列" class="headerlink" title="数据的存储和排列"></a>数据的存储和排列</h1><h2 id="大小端模式"><a href="#大小端模式" class="headerlink" title="大小端模式"></a>大小端模式</h2><p><img src="/img/计组56.png" alt>  </p><h2 id="边界对齐"><a href="#边界对齐" class="headerlink" title="边界对齐"></a>边界对齐</h2><p><img src="/img/计组57.png" alt>  </p><h1 id="浮点数的表示与规格化"><a href="#浮点数的表示与规格化" class="headerlink" title="浮点数的表示与规格化"></a>浮点数的表示与规格化</h1><h2 id="表示"><a href="#表示" class="headerlink" title="表示"></a>表示</h2><p><img src="/img/计组54.png" alt>  </p><h2 id="规格化"><a href="#规格化" class="headerlink" title="规格化"></a>规格化</h2><p><img src="/img/计组55.png" alt>  </p><h1 id="IEEE-754"><a href="#IEEE-754" class="headerlink" title="IEEE 754"></a>IEEE 754</h1><h2 id="IEEE754标准"><a href="#IEEE754标准" class="headerlink" title="IEEE754标准"></a>IEEE754标准</h2><p><img src="/img/计组58.png" alt>  </p><h2 id="表示范围-4"><a href="#表示范围-4" class="headerlink" title="表示范围"></a>表示范围</h2><p><img src="/img/计组59.png" alt><br>特殊情况<br><img src="/img/计组60.png" alt>  </p><h1 id="浮点数的运算"><a href="#浮点数的运算" class="headerlink" title="浮点数的运算"></a>浮点数的运算</h1><h2 id="加减运算"><a href="#加减运算" class="headerlink" title="加减运算"></a>加减运算</h2><p><img src="/img/计组61.png" alt>  </p><h2 id="舍入"><a href="#舍入" class="headerlink" title="舍入"></a>舍入</h2><p><img src="/img/计组62.png" alt>  </p><h2 id="强制类型转换-1"><a href="#强制类型转换-1" class="headerlink" title="强制类型转换"></a>强制类型转换</h2><p><img src="/img/计组63.png" alt>  </p><h1 id="电路的基本原理，加法器的设计"><a href="#电路的基本原理，加法器的设计" class="headerlink" title="电路的基本原理，加法器的设计"></a>电路的基本原理，加法器的设计</h1><h2 id="ALU"><a href="#ALU" class="headerlink" title="ALU"></a>ALU</h2><p><img src="/img/计组69.png" alt>  </p><h2 id="最基本的逻辑运算"><a href="#最基本的逻辑运算" class="headerlink" title="最基本的逻辑运算"></a>最基本的逻辑运算</h2><p><img src="/img/计组64.png" alt>  </p><h2 id="复合逻辑"><a href="#复合逻辑" class="headerlink" title="复合逻辑"></a>复合逻辑</h2><p><img src="/img/计组65.png" alt>  </p><h2 id="同或"><a href="#同或" class="headerlink" title="同或"></a>同或</h2><p><img src="/img/计组67.png" alt>  </p><h2 id="德摩根律（反演律）"><a href="#德摩根律（反演律）" class="headerlink" title="德摩根律（反演律）"></a>德摩根律（反演律）</h2><p><img src="/img/计组66.png" alt>  </p><h2 id="一位全加器"><a href="#一位全加器" class="headerlink" title="一位全加器"></a>一位全加器</h2><p><img src="/img/计组68.png" alt>  </p><h2 id="串行进位的并行加法器"><a href="#串行进位的并行加法器" class="headerlink" title="串行进位的并行加法器"></a>串行进位的并行加法器</h2><p><img src="/img/计组70.png" alt>  </p><h1 id="存储器的基本结构"><a href="#存储器的基本结构" class="headerlink" title="存储器的基本结构"></a>存储器的基本结构</h1><h2 id="存储器的容量"><a href="#存储器的容量" class="headerlink" title="存储器的容量"></a>存储器的容量</h2><p><img src="/img/计组71.png" alt><br><img src="/img/计组72.png" alt><br>存储单元：在存储器中有大量的存储元，把它们按相同的位划分为组，组内所有的存储元同时进行读出或写入操作，这样的一组存储元称为一个存储单元。<br>存储字：存储字是指存放在一个存储单元中的二进制代码组合。<br>存储字长：存放在一个存储单元中的二进制代码位数<br>存储字长对应数据线个数<br>存储单元个数对应地址线个数</p><h2 id="寻址"><a href="#寻址" class="headerlink" title="寻址"></a>寻址</h2><p><img src="/img/计组73.png" alt><br><a href="https://blog.csdn.net/wwwlyj123321/article/details/100066463"><font color="blue">关于大端小端存储</font></a>  </p><h1 id="半导体存储器RAM"><a href="#半导体存储器RAM" class="headerlink" title="半导体存储器RAM"></a>半导体存储器RAM</h1><p><img src="/img/计组74.png" alt>  </p><h2 id="DRAM的刷新"><a href="#DRAM的刷新" class="headerlink" title="DRAM的刷新"></a>DRAM的刷新</h2><p><img src="/img/计组75.png" alt>  </p><h1 id="半导体存储器ROM"><a href="#半导体存储器ROM" class="headerlink" title="半导体存储器ROM"></a>半导体存储器ROM</h1><p><img src="/img/计组76.png" alt>  </p><h1 id="主存与cpu的连接"><a href="#主存与cpu的连接" class="headerlink" title="主存与cpu的连接"></a>主存与cpu的连接</h1><h2 id="主存容量扩展-位扩展（并联）"><a href="#主存容量扩展-位扩展（并联）" class="headerlink" title="主存容量扩展-位扩展（并联）"></a>主存容量扩展-位扩展（并联）</h2><p><img src="/img/计组77.png" alt></p><h2 id="主存容量扩展-字扩展（串联）"><a href="#主存容量扩展-字扩展（串联）" class="headerlink" title="主存容量扩展-字扩展（串联）"></a>主存容量扩展-字扩展（串联）</h2><p><img src="/img/计组78.png" alt>  </p><h3 id="两种扩展方式"><a href="#两种扩展方式" class="headerlink" title="两种扩展方式"></a>两种扩展方式</h3><p><img src="/img/计组79.png" alt>  </p><h1 id="高速存储器"><a href="#高速存储器" class="headerlink" title="高速存储器"></a>高速存储器</h1><h2 id="局部性原理"><a href="#局部性原理" class="headerlink" title="局部性原理"></a>局部性原理</h2><p><img src="/img/计组125.png" alt>  </p><h2 id="性能分析"><a href="#性能分析" class="headerlink" title="性能分析"></a>性能分析</h2><h3 id="命中率和缺失率"><a href="#命中率和缺失率" class="headerlink" title="命中率和缺失率"></a>命中率和缺失率</h3><p><img src="/img/计组126.png" alt>  </p><h3 id="平均访问时间"><a href="#平均访问时间" class="headerlink" title="平均访问时间"></a>平均访问时间</h3><p><img src="/img/计组127.png" alt>  </p><h3 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h3><p><img src="/img/计组128.png" alt>  </p><h2 id="地址映射方式"><a href="#地址映射方式" class="headerlink" title="地址映射方式"></a>地址映射方式</h2><h3 id="cache的基本工作原理"><a href="#cache的基本工作原理" class="headerlink" title="cache的基本工作原理"></a>cache的基本工作原理</h3><p><img src="/img/计组129.png" alt>  </p><h3 id="地址映射"><a href="#地址映射" class="headerlink" title="地址映射"></a>地址映射</h3><h4 id="全相联映射"><a href="#全相联映射" class="headerlink" title="全相联映射"></a>全相联映射</h4><p><img src="/img/计组130.png" alt>  </p><h4 id="直接映射"><a href="#直接映射" class="headerlink" title="直接映射"></a>直接映射</h4><p><img src="/img/计组131.png" alt>  </p><h4 id="组相联映射"><a href="#组相联映射" class="headerlink" title="组相联映射"></a>组相联映射</h4><p><img src="/img/计组132.png" alt>  </p><h4 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h4><p><img src="/img/计组133.png" alt>  </p><h2 id="替换算法"><a href="#替换算法" class="headerlink" title="替换算法"></a>替换算法</h2><p><img src="/img/计组134.png" alt>  </p><h3 id="LRU组相联例子"><a href="#LRU组相联例子" class="headerlink" title="LRU组相联例子"></a>LRU组相联例子</h3><p><img src="/img/计组135.png" alt>  </p><h2 id="写策略"><a href="#写策略" class="headerlink" title="写策略"></a>写策略</h2><h3 id="命中"><a href="#命中" class="headerlink" title="命中"></a>命中</h3><p><img src="/img/计组136.png" alt><br><img src="/img/计组137.png" alt>  </p><h3 id="不命中"><a href="#不命中" class="headerlink" title="不命中"></a>不命中</h3><p><img src="/img/计组138.png" alt><br><img src="/img/计组139.png" alt>  </p><h2 id="全相联映射例子"><a href="#全相联映射例子" class="headerlink" title="全相联映射例子"></a>全相联映射例子</h2><p><img src="/img/计组142.png" alt>  </p><h2 id="直接映射例子"><a href="#直接映射例子" class="headerlink" title="直接映射例子"></a>直接映射例子</h2><p><img src="/img/计组140.png" alt>  </p><h2 id="组相联映射例子"><a href="#组相联映射例子" class="headerlink" title="组相联映射例子"></a>组相联映射例子</h2><p><img src="/img/计组141.png" alt>  </p><h2 id="cache容量例子"><a href="#cache容量例子" class="headerlink" title="cache容量例子"></a>cache容量例子</h2><p><img src="/img/计组143.png" alt>  </p><h1 id="虚拟存储器"><a href="#虚拟存储器" class="headerlink" title="虚拟存储器"></a>虚拟存储器</h1><p>页式虚拟存储器<br>段式虚拟存储器<br>端页式虚拟存储器</p><h1 id="指令系统"><a href="#指令系统" class="headerlink" title="指令系统"></a>指令系统</h1><h2 id="指令的定义"><a href="#指令的定义" class="headerlink" title="指令的定义"></a>指令的定义</h2><p><img src="/img/计组81.png" alt><br>注意：一台计算机只能执行自己的指令系统，不能执行其他系统的指令  </p><h2 id="指令格式"><a href="#指令格式" class="headerlink" title="指令格式"></a>指令格式</h2><p><img src="/img/计组82.png" alt>  </p><h2 id="扩展操作码"><a href="#扩展操作码" class="headerlink" title="扩展操作码"></a>扩展操作码</h2><p><img src="/img/计组83.png" alt>  </p><h2 id="指令寻址"><a href="#指令寻址" class="headerlink" title="指令寻址"></a>指令寻址</h2><h3 id="寻址-1"><a href="#寻址-1" class="headerlink" title="寻址"></a>寻址</h3><h4 id="按字寻址"><a href="#按字寻址" class="headerlink" title="按字寻址"></a>按字寻址</h4><p><img src="/img/计组84.png" alt>  </p><h4 id="按字节寻址"><a href="#按字节寻址" class="headerlink" title="按字节寻址"></a>按字节寻址</h4><p><img src="/img/计组85.png" alt>  </p><h3 id="三个字长"><a href="#三个字长" class="headerlink" title="三个字长"></a>三个字长</h3><p><img src="/img/计组86.png" alt>  </p><h3 id="顺序寻址和跳跃寻址"><a href="#顺序寻址和跳跃寻址" class="headerlink" title="顺序寻址和跳跃寻址"></a>顺序寻址和跳跃寻址</h3><p><img src="/img/计组87.png" alt>  </p><h2 id="数据寻址"><a href="#数据寻址" class="headerlink" title="数据寻址"></a>数据寻址</h2><p><img src="/img/计组89.png" alt>  </p><h3 id="寻址方式"><a href="#寻址方式" class="headerlink" title="寻址方式"></a>寻址方式</h3><p><img src="/img/计组88.png" alt>  </p><h3 id="立即寻址"><a href="#立即寻址" class="headerlink" title="立即寻址"></a>立即寻址</h3><p><img src="/img/计组90.png" alt>  </p><h3 id="直接寻址"><a href="#直接寻址" class="headerlink" title="直接寻址"></a>直接寻址</h3><p><img src="/img/计组91.png" alt>  </p><h3 id="间接寻址"><a href="#间接寻址" class="headerlink" title="间接寻址"></a>间接寻址</h3><p><img src="/img/计组92.png" alt>  </p><h3 id="寄存器寻址"><a href="#寄存器寻址" class="headerlink" title="寄存器寻址"></a>寄存器寻址</h3><p><img src="/img/计组93.png" alt><br>注意： 寄存器寻址类似直接寻址，只是操作数由直接寻址里的主存换到了寄存器中  </p><h3 id="寄存器间接寻址"><a href="#寄存器间接寻址" class="headerlink" title="寄存器间接寻址"></a>寄存器间接寻址</h3><p><img src="/img/计组94.png" alt>  </p><h3 id="隐含寻址"><a href="#隐含寻址" class="headerlink" title="隐含寻址"></a>隐含寻址</h3><p><img src="/img/计组95.png" alt>  </p><h3 id="偏移寻址"><a href="#偏移寻址" class="headerlink" title="偏移寻址"></a>偏移寻址</h3><h4 id="基址寻址"><a href="#基址寻址" class="headerlink" title="基址寻址"></a>基址寻址</h4><p><img src="/img/计组96.png" alt><br><img src="/img/计组97.png" alt>  </p><h4 id="变址寻址"><a href="#变址寻址" class="headerlink" title="变址寻址"></a>变址寻址</h4><p><img src="/img/计组98.png" alt>  </p><h4 id="相对寻址"><a href="#相对寻址" class="headerlink" title="相对寻址"></a>相对寻址</h4><p><img src="/img/计组99.png" alt>  </p><h3 id="堆栈寻址"><a href="#堆栈寻址" class="headerlink" title="堆栈寻址"></a>堆栈寻址</h3><p><img src="/img/计组100.png" alt></p><h2 id="CISC和RISC"><a href="#CISC和RISC" class="headerlink" title="CISC和RISC"></a>CISC和RISC</h2><p><img src="/img/计组101.png" alt><br><img src="/img/计组102.png" alt>  </p><h1 id="中央处理器"><a href="#中央处理器" class="headerlink" title="中央处理器"></a>中央处理器</h1><h2 id="CPU的功能和基本结构"><a href="#CPU的功能和基本结构" class="headerlink" title="CPU的功能和基本结构"></a>CPU的功能和基本结构</h2><p><img src="/img/计组103.png" alt>  </p><h3 id="运算器和控制器的功能"><a href="#运算器和控制器的功能" class="headerlink" title="运算器和控制器的功能"></a>运算器和控制器的功能</h3><p><img src="/img/计组104.png" alt>  </p><h3 id="运算器的基本结构"><a href="#运算器的基本结构" class="headerlink" title="运算器的基本结构"></a>运算器的基本结构</h3><p><img src="/img/计组105.png" alt><br><img src="/img/计组106.png" alt><br><img src="/img/计组107.png" alt>  </p><h4 id="总线模式"><a href="#总线模式" class="headerlink" title="总线模式"></a>总线模式</h4><p><img src="/img/计组108.png" alt><br>特点： 结构简单，容易实现，但数据传输存在较多冲突的现象，性能较低<br>暂存寄存器：用于暂存从主存读来的数据，这个数据不能存放在通用寄存器中，否则会破坏其原有功能<br>累加寄存器：它是一个通用寄存器，用于暂时存放ALU运算的结果信息，用于实现加法运算  </p><h3 id="控制器的基本机构"><a href="#控制器的基本机构" class="headerlink" title="控制器的基本机构"></a>控制器的基本机构</h3><p><img src="/img/计组109.png" alt>  </p><h3 id="CPU的基本结构"><a href="#CPU的基本结构" class="headerlink" title="CPU的基本结构"></a>CPU的基本结构</h3><p><img src="/img/计组110.png" alt><br><img src="/img/计组111.png" alt>  </p><h2 id="指令执行过程"><a href="#指令执行过程" class="headerlink" title="指令执行过程"></a>指令执行过程</h2><h3 id="指令周期"><a href="#指令周期" class="headerlink" title="指令周期"></a>指令周期</h3><p><img src="/img/计组112.png" alt><br>机器周期<br><img src="/img/计组113.png" alt><br><img src="/img/计组114.png" alt>  </p><h3 id="指令周期流程"><a href="#指令周期流程" class="headerlink" title="指令周期流程"></a>指令周期流程</h3><p><img src="/img/计组115.png" alt>  </p><h4 id="取指周期"><a href="#取指周期" class="headerlink" title="取指周期"></a>取指周期</h4><p><img src="/img/计组116.png" alt>  </p><h4 id="间址周期"><a href="#间址周期" class="headerlink" title="间址周期"></a>间址周期</h4><p><img src="/img/计组117.png" alt>  </p><h4 id="执行周期"><a href="#执行周期" class="headerlink" title="执行周期"></a>执行周期</h4><h4 id="中断周期"><a href="#中断周期" class="headerlink" title="中断周期"></a>中断周期</h4><p><img src="/img/计组118.png" alt>  </p><h3 id="指令执行方案"><a href="#指令执行方案" class="headerlink" title="指令执行方案"></a>指令执行方案</h3><p><img src="/img/计组119.png" alt>  </p><h2 id="数据通路和单总线"><a href="#数据通路和单总线" class="headerlink" title="数据通路和单总线"></a>数据通路和单总线</h2><h3 id="数据通路"><a href="#数据通路" class="headerlink" title="数据通路"></a>数据通路</h3><p>数据通路：数据在功能部件之间传送的路径</p><h4 id="总线"><a href="#总线" class="headerlink" title="总线"></a>总线</h4><p><img src="/img/计组120.png" alt></p><h4 id="cpu内部单总线方式"><a href="#cpu内部单总线方式" class="headerlink" title="cpu内部单总线方式"></a>cpu内部单总线方式</h4><p><img src="/img/计组121.png" alt>  </p><h4 id="例题-1"><a href="#例题-1" class="headerlink" title="例题"></a>例题</h4><h5 id="取指周期-1"><a href="#取指周期-1" class="headerlink" title="取指周期"></a>取指周期</h5><p><img src="/img/计组122.png" alt>  </p><h5 id="间址周期-1"><a href="#间址周期-1" class="headerlink" title="间址周期"></a>间址周期</h5><p><img src="/img/计组123.png" alt>  </p><h5 id="执行周期-1"><a href="#执行周期-1" class="headerlink" title="执行周期"></a>执行周期</h5><p><img src="/img/计组124.png" alt>  </p><h1 id="输入输出系统"><a href="#输入输出系统" class="headerlink" title="输入输出系统"></a>输入输出系统</h1><h2 id="IO系统基本概念"><a href="#IO系统基本概念" class="headerlink" title="IO系统基本概念"></a>IO系统基本概念</h2><h3 id="IO系统基本组成"><a href="#IO系统基本组成" class="headerlink" title="IO系统基本组成"></a>IO系统基本组成</h3><p><img src="/img/计组144.png" alt>  </p><h3 id="IO方式"><a href="#IO方式" class="headerlink" title="IO方式"></a>IO方式</h3><p><img src="/img/计组145.png" alt>  </p><h2 id="输入输出"><a href="#输入输出" class="headerlink" title="输入输出"></a>输入输出</h2><h3 id="外部设备"><a href="#外部设备" class="headerlink" title="外部设备"></a>外部设备</h3><p><img src="/img/计组146.png" alt>  </p><h2 id="外存储器"><a href="#外存储器" class="headerlink" title="外存储器"></a>外存储器</h2><p><img src="/img/计组147.png" alt>  </p><h2 id="磁盘"><a href="#磁盘" class="headerlink" title="磁盘"></a>磁盘</h2><p><img src="/img/计组148.png" alt>  </p><h1 id="微程序"><a href="#微程序" class="headerlink" title="微程序"></a>微程序</h1><h2 id="控制器的设计思路"><a href="#控制器的设计思路" class="headerlink" title="控制器的设计思路"></a>控制器的设计思路</h2><p><img src="/img/计组149.png" alt>  </p><h2 id="微程序的基本思想"><a href="#微程序的基本思想" class="headerlink" title="微程序的基本思想"></a>微程序的基本思想</h2><p><img src="/img/计组150.png" alt>  </p><h2 id="控制存储器"><a href="#控制存储器" class="headerlink" title="控制存储器"></a>控制存储器</h2><p><img src="/img/计组151.png" alt>  </p><h2 id="微指令的格式"><a href="#微指令的格式" class="headerlink" title="微指令的格式"></a>微指令的格式</h2><p><img src="/img/计组152.png" alt>  </p><h2 id="微指令的编码方式"><a href="#微指令的编码方式" class="headerlink" title="微指令的编码方式"></a>微指令的编码方式</h2><p><img src="/img/计组153.png" alt><br><img src="/img/计组154.png" alt>  </p><h2 id="微指令的地址形成方式"><a href="#微指令的地址形成方式" class="headerlink" title="微指令的地址形成方式"></a>微指令的地址形成方式</h2><p><img src="/img/计组155.png" alt>  </p><h2 id="微程序控制的基本概念"><a href="#微程序控制的基本概念" class="headerlink" title="微程序控制的基本概念"></a>微程序控制的基本概念</h2><p><img src="/img/计组156.png" alt>  </p><h2 id="微程序控制单元的设计"><a href="#微程序控制单元的设计" class="headerlink" title="微程序控制单元的设计"></a>微程序控制单元的设计</h2><p><img src="/img/计组157.png" alt>  </p><h2 id="硬布线和微程序的比较"><a href="#硬布线和微程序的比较" class="headerlink" title="硬布线和微程序的比较"></a>硬布线和微程序的比较</h2><p><img src="/img/计组158.png" alt>  </p>]]></content>
      
      
      <categories>
          
          <category> 组成原理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 组成原理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>系统结构</title>
      <link href="/2022/05/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/"/>
      <url>/2022/05/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<span id="more"></span>  <h1 id="计算机系统结构基础知识"><a href="#计算机系统结构基础知识" class="headerlink" title="计算机系统结构基础知识"></a>计算机系统结构基础知识</h1><h2 id="多程序结构"><a href="#多程序结构" class="headerlink" title="多程序结构"></a>多程序结构</h2><p>第一级：微程序级，这级的机器语言是微指令集，用微指令编写的微程序一般是由硬件执行的。<br>第二级：传统机器级，这级的机器语言是该机的指令集，用机器语言编写的程序可以由微程序进行解释。<br>第三级：操作系统级，由操作系统直接管理传统机器中的软硬件资源，也是传统机器的眼神。<br>第四级：汇编语言级，这级的机器语言是汇编语言，完成汇编语言翻译的程序叫做汇编程序。<br>第五级：高级语言级，这级的机器语言是高级语言，用编译程序来完成高级语言翻译的工作。<br>第六级：应用语言级，是为了使计算机满足某种用途而专门设计的，这一级的语言就是各种面向问题的应用语言。  </p><h2 id="虚拟机和物理机"><a href="#虚拟机和物理机" class="headerlink" title="虚拟机和物理机"></a>虚拟机和物理机</h2><ul><li>物理机：用硬件/固件实现的机器  </li><li>虚拟机：是指由软件实现的机器，目的：在一台计算机上实现另一台计算机<h2 id="解释和翻译"><a href="#解释和翻译" class="headerlink" title="解释和翻译"></a>解释和翻译</h2>解释：每当一条L+1级指令被译码后，就直接去执行一串等效的L级指令，然后再去取下一条L+1级的指令<br>翻译：先把L+1级程序全部变成L级程序后，再去执行新产生的L级程序，在执行过程中L+1级程序不再被访问<br><u>注：解释执行比编译后执行所花的时间多，但占用的存储空间较少</u><h2 id="计算机系统结构"><a href="#计算机系统结构" class="headerlink" title="计算机系统结构"></a>计算机系统结构</h2></li><li>计算机系统结构：指的是计算机系统的软、硬件的界面，即机器语言程序员所看到的传统机器级所具有的属性  </li><li>计算机组成：指的是计算机系统结构的逻辑实现，包含物理机器级中的数据流和控制流的组成和逻辑实现等。它着眼于物理机器级内各事件的排序方式和控制方式、各部件的功能以及各部件之间的关系  </li><li>计算机实现：指的是计算机组成的物理实现，包括处理机和主存等部件的物理结构等。它着眼于器件技术和微组装技术  </li><li>举例：确定指令集中是否含有乘法指令属于计算机系统结构的内容，但乘法指令是用专门的乘法器实现，还是利用加法器经多步操作来实现，属于计算机组成，而乘法器、加法器的物理实现，如期间的选定及所用的微组装技术等，属于计算机实现。  <h2 id="透明性"><a href="#透明性" class="headerlink" title="透明性"></a>透明性</h2>这种本来存在的事务或属性，但从某个角度看又好像不存在的概念称为透明性  <h2 id="模拟和仿真"><a href="#模拟和仿真" class="headerlink" title="模拟和仿真"></a>模拟和仿真</h2></li><li>模拟：指用软件的方法在一台现有的计算机（称为宿主机host）上实现另一台计算机（称为虚拟机）的指令集  </li><li>仿真：指用一台计算机（称为宿主机）上的微程序去解释实现另一台计算机（称为目标机）的指令集<br><u>注：模拟程序存放在内存中，仿真微程序则是存放在控制存储器中，因此仿真方法的运行速度比模拟方法的快，但仿真只能在系统结构差距不大的计算机之间使用</u><h2 id="并行性"><a href="#并行性" class="headerlink" title="并行性"></a>并行性</h2></li><li>并行性：指计算机系统在同一时刻或同一时间间隔内进行多种计算或操作</li><li>包括同时性与并发性  <ul><li>同时性：指两个或两个以上的事件在同一时刻发生  </li><li>并发性：指两个或两个以上的事件在同一时间间隔内发生  <h3 id="提高并行性的技术途径"><a href="#提高并行性的技术途径" class="headerlink" title="提高并行性的技术途径"></a>提高并行性的技术途径</h3></li></ul></li><li><p>技术途径</p><ul><li><p>时间重叠：让多个处理过程在时间上相互错开，轮流重叠地使用同一套硬件设备地不同部分，以加快硬件周转而获得速度</p></li><li><p>资源重复：重复设置硬件资源</p></li><li><p>资源共享：软件方法，使多个任务按一定时间顺序轮流使用同一套硬件设备</p></li></ul></li></ul><p><img src="/img/系统5.png" alt>  </p><h3 id="耦合度"><a href="#耦合度" class="headerlink" title="耦合度"></a>耦合度</h3><p>反映多机系统中各计算机之间物理连接的紧密程度和交互作用能力的强弱。分为紧密耦合和松散耦合。</p><h4 id="紧密耦合"><a href="#紧密耦合" class="headerlink" title="紧密耦合"></a>紧密耦合</h4><p>又称直接耦合系统，计算机的物理连接的带宽较高，通过总线或高速开关互联，可共享内存</p><h4 id="松散耦合"><a href="#松散耦合" class="headerlink" title="松散耦合"></a>松散耦合</h4><p>又称间接耦合，通过通道或通信线路实现计算机之间的互联，可以共享外村设备，能实现更大范围的资源共享。</p><h2 id="Amdahl定律"><a href="#Amdahl定律" class="headerlink" title="Amdahl定律"></a>Amdahl定律</h2><ul><li>Amdahl定律：加速某部件执行速度所能获得的系统性能加速比，受限于该部件的执行时间占系统中总执行时间的百分比</li><li>两个影响因素：<ul><li>可改进比例(Fe)</li><li>部件加速比(Se)  <h2 id="决定CPU性能的3个参数及计算方法"><a href="#决定CPU性能的3个参数及计算方法" class="headerlink" title="决定CPU性能的3个参数及计算方法"></a>决定CPU性能的3个参数及计算方法</h2></li></ul></li><li>CPU时间 = IC <em> CPI </em> 时钟周期时间  </li><li>参数：<ul><li>时钟周期时间：取决于硬件实现技术和计算机组成</li><li>CPI：取决于计算机组成和指令集结构</li><li>IC：取决于指令集结构和编译技术  <h2 id="程序局部性原理"><a href="#程序局部性原理" class="headerlink" title="程序局部性原理"></a>程序局部性原理</h2></li></ul></li><li>局部性原理：指程序执行时所访问的存储器地址分布不是随机的，而是相对簇聚的</li><li><p>分类：</p><ul><li>时间局部性：指程序即将用到的信息很可能就是目前正在使用的信息</li><li>空间局部性：指程序即将用到的信息很可能与当前正在使用的信息在空间上相邻或临近  <h2 id="计算机设计者的主要任务"><a href="#计算机设计者的主要任务" class="headerlink" title="计算机设计者的主要任务"></a>计算机设计者的主要任务</h2>主要任务包括  </li></ul></li><li><p>指令系统的设计  </p></li><li>数据表示的设计</li><li>功能的组织</li><li>逻辑设计及其物理实现等<h2 id="计算机设计的主要方法"><a href="#计算机设计的主要方法" class="headerlink" title="计算机设计的主要方法"></a>计算机设计的主要方法</h2><h3 id="由上往下-设计"><a href="#由上往下-设计" class="headerlink" title="由上往下 设计"></a>由上往下 设计</h3>从层次结构的最上面一级开始，逐层往下设计各层机器<br><img src="/img/系统1.png" alt>  <h3 id="由下往上-设计"><a href="#由下往上-设计" class="headerlink" title="由下往上 设计"></a>由下往上 设计</h3>从层次结构的最下面一级开始，逐层往上设计各层的机器<h3 id="从中间开始-设计"><a href="#从中间开始-设计" class="headerlink" title="从中间开始 设计"></a>从中间开始 设计</h3>软硬件设计分离和脱节是上述“由上往下”和“由下往上”设计方法的主要缺点<br><img src="/img/系统2.png" alt>  <h2 id="计算机性能的比较方法"><a href="#计算机性能的比较方法" class="headerlink" title="计算机性能的比较方法"></a>计算机性能的比较方法</h2><h3 id="执行时间和吞吐率"><a href="#执行时间和吞吐率" class="headerlink" title="执行时间和吞吐率"></a>执行时间和吞吐率</h3>执行时间：单个程序所花的时间<br>吞吐率：单位时间完成的任务<h3 id="基准测试程序"><a href="#基准测试程序" class="headerlink" title="基准测试程序"></a>基准测试程序</h3></li></ul><h3 id="性能比较"><a href="#性能比较" class="headerlink" title="性能比较"></a>性能比较</h3><ul><li>总执行时间<br><img src="/img/系统3.png" alt>  </li><li>调和平均值法<br><img src="/img/系统.png" alt><br>Ri 表示由n个程序组成的工作负荷中执行第i个程序的速度，Ri = 1/Ti；Ti为第i个程序的执行时间  </li><li>几何平均值法<br><img src="/img/系统4.png" alt><br>Π表示连乘  <h2 id="冯诺依曼结构的主要特点"><a href="#冯诺依曼结构的主要特点" class="headerlink" title="冯诺依曼结构的主要特点"></a>冯诺依曼结构的主要特点</h2></li><li>计算机以运算器为中心</li><li>在存储器中，指令和数据同等对待</li><li>存储器是按地址访问、按顺序线性编址的一维结构，每个单元的位数是固定的</li><li>指令的执行是顺序的，即一般是按照指令在存储器中存放的顺序执行</li><li>指令由操作数和地址码组成</li><li>指令和数据均以二进制编码表示，采用二进制计算<h2 id="现代计算机对比冯诺依曼体系结构"><a href="#现代计算机对比冯诺依曼体系结构" class="headerlink" title="现代计算机对比冯诺依曼体系结构"></a>现代计算机对比冯诺依曼体系结构</h2></li><li>对输入/输出方式的改进：DMA、通道</li><li>采用并行处理技术</li><li>存储器组织结构的发展：通用寄存器组、Cache</li><li>指令集的发展：CISC、RISC<h2 id="实现软件可移植性的三种方法"><a href="#实现软件可移植性的三种方法" class="headerlink" title="实现软件可移植性的三种方法"></a>实现软件可移植性的三种方法</h2></li><li>软件的可移植性：指一个软件不经修改或者只需少量修改就可以由一台计算机移植到另一台计算机上执行</li><li>常用方法：<ul><li>采用系列机</li><li>模拟和仿真</li><li>统一高级语言<h1 id="指令系统的设计"><a href="#指令系统的设计" class="headerlink" title="指令系统的设计"></a>指令系统的设计</h1><h2 id="指令系统结构的分类"><a href="#指令系统结构的分类" class="headerlink" title="指令系统结构的分类"></a>指令系统结构的分类</h2></li></ul></li><li>堆栈<ul><li>指令字比较短，程序占用的空间比较小 </li></ul></li><li>累加器<ul><li>指令字比较短，程序占用的空间比较小 </li></ul></li><li>通用寄存器组<ul><li>可分为R-M型和R-R型<h2 id="寻址方式"><a href="#寻址方式" class="headerlink" title="寻址方式"></a>寻址方式</h2><img src="/img/系统6.png" alt>  <h3 id="信息存储的整数边界概念"><a href="#信息存储的整数边界概念" class="headerlink" title="信息存储的整数边界概念"></a>信息存储的整数边界概念</h3>字节信息的起始地址为：X…XXXX<br>半字信息的起始地址为：X…XXX0<br>单字信息的起始地址为：X…XX00<br>双字信息的起始地址为：X…X000  <h2 id="指令系统的设计和优化"><a href="#指令系统的设计和优化" class="headerlink" title="指令系统的设计和优化"></a>指令系统的设计和优化</h2><h3 id="指令系统设计的基本原则"><a href="#指令系统设计的基本原则" class="headerlink" title="指令系统设计的基本原则"></a>指令系统设计的基本原则</h3>指令系统的基本要求是完整性，规整性，正交性，高效率，兼容性  </li></ul></li><li>完整性是指在一个有限可用的存储空间内，对于任何可解的问题，编制计算程序时，指令系统所提供的指令足够使用。  </li><li>规整性主要包括对称性和均匀性。  <ul><li>对称性是指所有与指令系统有关的存储单元的使用，操作码的设置等都是对称的  </li><li>均匀性是指对于各种不同的操作数类型，字长，操作种类和数据存储单元，指令的设置都要同等对待  </li></ul></li><li>正交性是指在指令中各个不同含义的字段，如操作类型，数据类型，寻址方式字段等，在编码时应互不相关，相互独立  </li><li>高效率是指指令的执行速度快，使用频度高。  </li><li>兼容性主要是要实现向后兼容，指令系统可以增加新指令，但不能删除指令或更改指令的功能。  <h2 id="指令操作码的优化"><a href="#指令操作码的优化" class="headerlink" title="指令操作码的优化"></a>指令操作码的优化</h2>指令一般由两部分组成：操作码和地址码。<h3 id="哈夫曼编码"><a href="#哈夫曼编码" class="headerlink" title="哈夫曼编码"></a>哈夫曼编码</h3>操作码的优化程度可以用信息熵H来衡量，它表示用二进制表示n个码点时，理论上的最短平均编码长度<br>可以通过构造哈夫曼树来求得  <h3 id="等长扩展码"><a href="#等长扩展码" class="headerlink" title="等长扩展码"></a>等长扩展码</h3>例如15/15/15法和8/64/512法。<br>15/15/15法是在4位的16个码点中用15个码点表示最常用的15种指令，剩下的一个码点用于扩展到下一个4位下。<br>8/64/512法是用头4位的0XXX表示最常用的8种指令，接着扩展码扩展成两个4位，其中的1XXX0XXX的64个码点表示64种指令，然后在扩展成3个4位，用1XXX1XXX0XXX的512个码点表示512种指令  <h3 id="定长操作码"><a href="#定长操作码" class="headerlink" title="定长操作码"></a>定长操作码</h3>所有指令的操作码都是同一长度的，特别是RISC结构<h2 id="CISC存在的问题"><a href="#CISC存在的问题" class="headerlink" title="CISC存在的问题"></a>CISC存在的问题</h2></li><li>各种指令的使用频度相差悬殊，二八定律  </li><li>指令系统庞大，指令条数多，功能复杂导致①占用大量芯片面积②增加研制成本，易造成设计错误  </li><li>许多指令操作繁杂，CPI比较大  </li><li>不利于采用流水技术来提高性能  <h3 id="改进方向"><a href="#改进方向" class="headerlink" title="改进方向"></a>改进方向</h3></li><li>面向目标程序增强指令功能  <ul><li>增强运算型指令的功能  </li><li>增强数据传送指令的功能  </li></ul></li><li>面向高级语言的优化实现来改进指令系统  </li><li>面向操作系统的优化实现改进指令系统  <h3 id="设计RISC机器遵循的原则"><a href="#设计RISC机器遵循的原则" class="headerlink" title="设计RISC机器遵循的原则"></a>设计RISC机器遵循的原则</h3><img src="/img/系统11.png" alt>  <h2 id="表示操作数类型的方法"><a href="#表示操作数类型的方法" class="headerlink" title="表示操作数类型的方法"></a>表示操作数类型的方法</h2>（1）由指令的操作码决定操作数类型<br>（2）给数据加上标识（tag），由数据本身给出操作数类型<h2 id="MIPS指令系统结构"><a href="#MIPS指令系统结构" class="headerlink" title="MIPS指令系统结构"></a>MIPS指令系统结构</h2><h3 id="MIPS的指令格式"><a href="#MIPS的指令格式" class="headerlink" title="MIPS的指令格式"></a>MIPS的指令格式</h3></li><li>I 类指令  <ul><li>包括所有的load和store指令，立即数指令，分支指令，寄存器跳转指令，寄存器链接跳转指令  </li></ul></li><li>R 类指令  <ul><li>包括ALU指令，专用寄存器读写指令，move指令等  </li></ul></li><li>J 类指令  <ul><li>包括跳转指令，跳转并链接指令，自陷指令，异常返回指令。  <h2 id="常用MIPS指令"><a href="#常用MIPS指令" class="headerlink" title="常用MIPS指令"></a>常用MIPS指令</h2><h3 id="load-and-store"><a href="#load-and-store" class="headerlink" title="load and store"></a>load and store</h3><img src="/img/系统7.png" alt>  <h3 id="ALU"><a href="#ALU" class="headerlink" title="ALU"></a>ALU</h3><img src="/img/系统8.png" alt>  <h3 id="控制指令"><a href="#控制指令" class="headerlink" title="控制指令"></a>控制指令</h3><img src="/img/系统9.png" alt><br><img src="/img/系统10.png" alt>  </li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 系统结构 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 系统结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ncnn&amp;yolov5</title>
      <link href="/2022/05/04/ncnn-yolov5/"/>
      <url>/2022/05/04/ncnn-yolov5/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo-next美化</title>
      <link href="/2022/03/10/hexo-next%E7%BE%8E%E5%8C%96/"/>
      <url>/2022/03/10/hexo-next%E7%BE%8E%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h2 id="解决不显示访问人数的问题"><a href="#解决不显示访问人数的问题" class="headerlink" title="解决不显示访问人数的问题"></a>解决不显示访问人数的问题</h2><p><a href="https://muyuuuu.github.io/2019/11/22/busuanzi-notdisplay/">修补hexo-next不蒜子不显示问题</a>  </p><h2 id="去掉页面底部“驱动”"><a href="#去掉页面底部“驱动”" class="headerlink" title="去掉页面底部“驱动”"></a>去掉页面底部“驱动”</h2><p>比如想去掉“由 Hexo &amp; NexT.Gemini 强力驱动”，在<font color="#FF66CC">.\themes\next\layout_partials\footer.swig</font>中将以下代码注释掉。<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;%- if theme.footer.powered %&#125;</span><br><span class="line">  &lt;div class=&quot;powered-by&quot;&gt;</span><br><span class="line">    &#123;%- set next_site = &#x27;https://theme-next.js.org&#x27; if theme.scheme === &#x27;Gemini&#x27; else &#x27;https://theme-next.js.org/&#x27; + theme.scheme | lower + &#x27;/&#x27; %&#125;</span><br><span class="line">    &#123;&#123;- __(&#x27;footer.powered&#x27;, next_url(&#x27;https://hexo.io&#x27;, &#x27;Hexo&#x27;) + &#x27; &amp; &#x27; + next_url(next_site, &#x27;NexT.&#x27; + theme.scheme)) &#125;&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&#123;%- endif %&#125;</span><br></pre></td></tr></table></figure></p><h2 id="头像设置"><a href="#头像设置" class="headerlink" title="头像设置"></a>头像设置</h2><p>在next的_config.yml中avatar设置。将头像图片放在<font color="#FF66CC">/source/images/</font>中，修改url地址。<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Sidebar Avatar</span><br><span class="line">avatar:</span><br><span class="line">  # Replace the default image and set the url here.</span><br><span class="line">  url: /images/header.jpg</span><br><span class="line">  # If true, the avatar will be displayed in circle.</span><br><span class="line">  rounded: true</span><br><span class="line">  # If true, the avatar will be rotated with the cursor.</span><br><span class="line">  rotated: true</span><br></pre></td></tr></table></figure></p><h2 id="背景图片、页面透明化、阴影、圆角、动画"><a href="#背景图片、页面透明化、阴影、圆角、动画" class="headerlink" title="背景图片、页面透明化、阴影、圆角、动画"></a>背景图片、页面透明化、阴影、圆角、动画</h2><p><a href="https://blog.csdn.net/Growing_potato/article/details/113926856?spm=1001.2101.3001.6661.1&amp;utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-113926856-blog-107005112.pc_relevant_antiscanv2&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1-113926856-blog-107005112.pc_relevant_antiscanv2&amp;utm_relevant_index=1">背景图片、页面透明化、阴影、圆角、动画</a>  </p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
          <category> next </category>
          
      </categories>
      
      
        <tags>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
